(function(){"use strict";var t={6475:function(t,a,e){var s=e(5130),r=e(6768);const o={id:"app"},i={class:"main-content"};function l(t,a,e,s,l,n){const c=(0,r.g2)("Header"),d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(c),(0,r.Lk)("main",i,[(0,r.bF)(d)])])}var n=e(4232);const c={class:"header"},d={class:"container"},u={class:"header-content"},h={class:"header-logo"},g={class:"header-nav"},k={class:"header-user"},v={key:0,class:"user-menu"},p={class:"dropdown"},L=["src","alt"],m={key:1,class:"user-avatar-placeholder"},y={class:"user-name"},f={key:0,class:"dropdown-menu"},b={key:1,class:"auth-buttons"};function S(t,a,e,s,o,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",c,[(0,r.Lk)("div",d,[(0,r.Lk)("div",u,[(0,r.Lk)("div",h,[(0,r.bF)(l,{to:"/",class:"logo-link"},{default:(0,r.k6)(()=>a[2]||(a[2]=[(0,r.Lk)("h1",{class:"logo-text"},"자유놀이터",-1)])),_:1,__:[2]})]),(0,r.Lk)("nav",g,[(0,r.bF)(l,{to:"/",class:"nav-link"},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("홈",-1)])),_:1,__:[3]}),t.isAuthenticated?((0,r.uX)(),(0,r.Wv)(l,{key:0,to:"/trading",class:"nav-link"},{default:(0,r.k6)(()=>a[4]||(a[4]=[(0,r.eW)(" 자동매매 ",-1)])),_:1,__:[4]})):(0,r.Q3)("",!0)]),(0,r.Lk)("div",k,[t.isAuthenticated?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",p,[(0,r.Lk)("button",{class:"dropdown-toggle user-toggle",onClick:a[0]||(a[0]=(...t)=>i.toggleUserMenu&&i.toggleUserMenu(...t))},[t.userAvatar?((0,r.uX)(),(0,r.CE)("img",{key:0,src:t.userAvatar,alt:t.userName,class:"user-avatar"},null,8,L)):((0,r.uX)(),(0,r.CE)("div",m,(0,n.v_)(t.userName.charAt(0).toUpperCase()),1)),(0,r.Lk)("span",y,(0,n.v_)(t.userName),1),a[5]||(a[5]=(0,r.Lk)("svg",{class:"dropdown-arrow",width:"12",height:"12",viewBox:"0 0 12 12"},[(0,r.Lk)("path",{d:"M6 8L2 4h8L6 8z",fill:"currentColor"})],-1))]),o.showUserMenu?((0,r.uX)(),(0,r.CE)("div",f,[(0,r.bF)(l,{to:"/trading",class:"dropdown-item"},{default:(0,r.k6)(()=>a[6]||(a[6]=[(0,r.eW)(" 자동매매 관리 ",-1)])),_:1,__:[6]}),a[7]||(a[7]=(0,r.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,r.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>i.handleLogout&&i.handleLogout(...t)),class:"dropdown-item"}," 로그아웃 ")])):(0,r.Q3)("",!0)])])):((0,r.uX)(),(0,r.CE)("div",b,[(0,r.bF)(l,{to:"/login",class:"custom-login-button"},{default:(0,r.k6)(()=>a[8]||(a[8]=[(0,r.eW)(" 로그인 ",-1)])),_:1,__:[8]})]))])])])])}e(4114);var _=e(782),w={name:"HeaderView",data(){return{showUserMenu:!1}},computed:{...(0,_.L8)("auth",["isAuthenticated","userName","userAvatar"])},methods:{...(0,_.i0)("auth",["logout"]),toggleUserMenu(){this.showUserMenu=!this.showUserMenu},async handleLogout(){this.showUserMenu=!1,await this.logout(),this.$router.push("/")},handleClickOutside(t){this.$el.contains(t.target)||(this.showUserMenu=!1)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},E=e(1241);const T=(0,E.A)(w,[["render",S],["__scopeId","data-v-457bcd26"]]);var A=T,C={name:"App",components:{Header:A},async created(){const t=localStorage.getItem("token");t&&await this.loadUserProfile()},methods:{...(0,_.i0)("auth",["loadUserProfile"])}};const I=(0,E.A)(C,[["render",l]]);var O=I,X=e(1387),R=e(4373);const N="https://tradesiteback.onrender.com/api",U=R.A.create({baseURL:N,timeout:3e4,headers:{"Content-Type":"application/json"}});U.interceptors.request.use(t=>{const a=localStorage.getItem("token");return a&&(t.headers["Authorization"]=`Bearer ${a}`),console.log(`🔍 API 요청: ${t.method?.toUpperCase()} ${t.url}`),t},t=>(console.error("❌ API 요청 에러:",t),Promise.reject(t))),U.interceptors.response.use(t=>(console.log(`✅ API 응답: ${t.status} ${t.config.url}`),t),t=>(console.error("❌ API 응답 에러:",t),401===t.response?.status&&(console.log("🔑 토큰 만료 - 로그아웃 처리"),localStorage.removeItem("token"),"/login"!==window.location.pathname&&(window.location.href="/login")),Promise.reject(t)));var M=U,D=e(7411);const G={user:null,token:localStorage.getItem("token")||null,isAuthenticated:!1},x={SET_USER(t,a){t.user=a,t.isAuthenticated=!!a},SET_TOKEN(t,a){t.token=a,a?localStorage.setItem("token",a):localStorage.removeItem("token")},LOGOUT(t){t.user=null,t.token=null,t.isAuthenticated=!1,localStorage.removeItem("token")}},K={async loadUserProfile({commit:t,state:a}){try{if(!a.token)return;console.log("👤 사용자 프로필 로딩 중...");const e=await M.get("/auth/profile");e.data.success?(t("SET_USER",e.data.user),console.log("✅ 사용자 프로필 로드 성공:",e.data.user.email)):(console.log("⚠️ 유효하지 않은 토큰 - 로그아웃 처리"),t("LOGOUT"))}catch(e){console.error("❌ 프로필 로드 실패:",e),t("LOGOUT")}},async loginWithToken({commit:t,dispatch:a},e){try{console.log("🔑 토큰으로 로그인 처리 중..."),t("SET_TOKEN",e),await a("loadUserProfile");const s=(0,D.dj)();return s.success("로그인되었습니다!"),!0}catch(s){console.error("❌ 토큰 로그인 실패:",s),t("LOGOUT");const a=(0,D.dj)();return a.error("로그인에 실패했습니다."),!1}},async logout({commit:t}){try{console.log("👋 로그아웃 처리 중..."),await M.post("/auth/logout")}catch(a){console.error("❌ 로그아웃 API 호출 실패:",a)}finally{t("LOGOUT");const a=(0,D.dj)();a.success("로그아웃되었습니다.")}},getGoogleLoginUrl(){const t="https://tradesiteback.onrender.com/api"?.replace("/api","")||0;return`${t}/api/auth/google`},getKakaoLoginUrl(){const t="https://tradesiteback.onrender.com/api"?.replace("/api","")||0;return`${t}/api/auth/kakao`}},$={isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,token:t=>t.token,userName:t=>t.user?.name||"",userAvatar:t=>t.user?.avatar||""};var P={namespaced:!0,state:G,mutations:x,actions:K,getters:$};const F={articles:[],loading:!1,searchKeyword:""},B={SET_ARTICLES(t,a){t.articles=a},SET_LOADING(t,a){t.loading=a},SET_SEARCH_KEYWORD(t,a){t.searchKeyword=a},CLEAR_ARTICLES(t){t.articles=[],t.searchKeyword=""}},W={async searchNews({commit:t},a){if(!a||""===a.trim()){const t=(0,D.dj)();return void t.warning("검색 키워드를 입력해주세요.")}t("SET_LOADING",!0),t("SET_SEARCH_KEYWORD",a);try{const e=await M.get("/news/search",{params:{keyword:a.trim()}});if(!e.data.success)throw new Error(e.data.message||"뉴스 검색에 실패했습니다.");if(t("SET_ARTICLES",e.data.data),0===e.data.data.length){const t=(0,D.dj)();t.info("검색 결과가 없습니다.")}}catch(e){console.error("뉴스 검색 오류:",e),t("SET_ARTICLES",[]);const a=(0,D.dj)();a.error(e.response?.data?.message||"뉴스 검색 중 오류가 발생했습니다.")}finally{t("SET_LOADING",!1)}},clearNews({commit:t}){t("CLEAR_ARTICLES")}},H={articles:t=>t.articles,isLoading:t=>t.loading,searchKeyword:t=>t.searchKeyword,hasArticles:t=>t.articles.length>0};var j={namespaced:!0,state:F,mutations:B,actions:W,getters:H};const q={strategies:[],bestStrategy:null,currentStrategy:null,isTrading:!1,loading:!1},V={SET_STRATEGIES(t,a){t.strategies=a},SET_BEST_STRATEGY(t,a){t.bestStrategy=a},SET_CURRENT_STRATEGY(t,a){t.currentStrategy=a},SET_TRADING_STATUS(t,a){t.isTrading=a.isActive,t.currentStrategy=a.strategy},SET_LOADING(t,a){t.loading=a},ADD_STRATEGY(t,a){t.strategies.unshift(a)}},z={async loadStrategies({commit:t}){t("SET_LOADING",!0);try{const a=await M.get("/trading/strategies");a.data.success&&t("SET_STRATEGIES",a.data.data)}catch(a){console.error("전략 로드 실패:",a);const t=(0,D.dj)();t.error("전략을 불러오는데 실패했습니다.")}finally{t("SET_LOADING",!1)}},async loadBestStrategy({commit:t}){try{const a=await M.get("/trading/strategies/best");a.data.success&&t("SET_BEST_STRATEGY",a.data.data)}catch(a){console.error("최적 전략 로드 실패:",a)}},async loadTradingStatus({commit:t}){try{const a=await M.get("/trading/status");a.data.success&&t("SET_TRADING_STATUS",a.data.data)}catch(a){console.error("트레이딩 상태 로드 실패:",a)}},async createStrategy({commit:t},a){t("SET_LOADING",!0);try{console.log("전략 생성 데이터:",a);const e=await M.post("/trading/strategies",a);if(e.data.success){t("ADD_STRATEGY",e.data.data),t("SET_CURRENT_STRATEGY",e.data.data);const a=(0,D.dj)();return a.success("전략이 생성되었습니다."),!0}}catch(e){console.error("전략 생성 실패:",e);const t=(0,D.dj)();return t.error(e.response?.data?.message||"전략 생성에 실패했습니다."),!1}finally{t("SET_LOADING",!1)}},async startTrading({commit:t,dispatch:a},e){t("SET_LOADING",!0);try{console.log("자동매매 시작 요청:",e);const t=await M.post("/trading/start",{strategyId:e});if(t.data.success){await a("loadTradingStatus");const t=(0,D.dj)();return t.success("자동매매가 시작되었습니다."),!0}}catch(s){console.error("자동매매 시작 실패:",s);const t=(0,D.dj)();return t.error(s.response?.data?.message||"자동매매 시작에 실패했습니다."),!1}finally{t("SET_LOADING",!1)}},async stopTrading({commit:t,dispatch:a}){t("SET_LOADING",!0);try{console.log("자동매매 중단 요청");const t=await M.post("/trading/stop");if(t.data.success){await a("loadTradingStatus");const t=(0,D.dj)();return t.success("자동매매가 중단되었습니다."),!0}}catch(e){console.error("자동매매 중단 실패:",e);const t=(0,D.dj)();return t.error(e.response?.data?.message||"자동매매 중단에 실패했습니다."),!1}finally{t("SET_LOADING",!1)}}},Q={strategies:t=>t.strategies,bestStrategy:t=>t.bestStrategy,currentStrategy:t=>t.currentStrategy,isTrading:t=>t.isTrading,isLoading:t=>t.loading,hasStrategies:t=>t.strategies.length>0};var Y={namespaced:!0,state:q,mutations:V,actions:z,getters:Q},J=(0,_.y$)({modules:{auth:P,news:j,trading:Y},state:{loading:!1,error:null},mutations:{SET_LOADING(t,a){t.loading=a},SET_ERROR(t,a){t.error=a},CLEAR_ERROR(t){t.error=null}},actions:{setLoading({commit:t},a){t("SET_LOADING",a)},setError({commit:t},a){t("SET_ERROR",a)},clearError({commit:t}){t("CLEAR_ERROR")}},getters:{isLoading:t=>t.loading,hasError:t=>!!t.error,error:t=>t.error}});const Z={class:"home"},tt={class:"hero"},at={class:"container"},et={class:"hero-content"},st={class:"search-section"},rt={class:"search-container"},ot={class:"search-input-group"},it=["disabled"],lt={key:0,class:"loading-spinner"},nt={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},ct={class:"search-suggestions"},dt=["onClick"],ut={key:0,class:"news-results"},ht={class:"container"},gt={class:"results-header"},kt={class:"results-title"},vt={key:0},pt={key:1},Lt={class:"results-meta"},mt={key:0,class:"results-count"},yt={key:0,class:"loading-state"},ft={key:1,class:"no-results"},bt={key:2,class:"news-grid"},St={key:1,class:"features"},_t={key:2,class:"cta"};function wt(t,a,e,o,i,l){const c=(0,r.g2)("NewsCard");return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("section",tt,[(0,r.Lk)("div",at,[(0,r.Lk)("div",et,[a[7]||(a[7]=(0,r.Lk)("h1",{class:"hero-title"}," AI 기반 놀이터 ",-1)),a[8]||(a[8]=(0,r.Lk)("p",{class:"hero-subtitle"}," 실시간 뉴스 분석과 AI 요약 주식 자동화 ",-1)),(0,r.Lk)("div",st,[(0,r.Lk)("div",rt,[(0,r.Lk)("div",ot,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>i.searchKeyword=t),onKeypress:a[1]||(a[1]=(0,s.jR)((...t)=>l.handleSearch&&l.handleSearch(...t),["enter"])),placeholder:"종목명 또는 키워드를 입력하세요 (예: 삼성전자, AI, 전기차)",class:"search-input"},null,544),[[s.Jo,i.searchKeyword]]),(0,r.Lk)("button",{onClick:a[2]||(a[2]=(...t)=>l.handleSearch&&l.handleSearch(...t)),disabled:l.isSearching||!i.searchKeyword.trim(),class:"search-button"},[l.isSearching?((0,r.uX)(),(0,r.CE)("span",lt)):((0,r.uX)(),(0,r.CE)("svg",nt,a[4]||(a[4]=[(0,r.Lk)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},null,-1)]))),a[5]||(a[5]=(0,r.eW)(" 검색 ",-1))],8,it)]),(0,r.Lk)("div",ct,[a[6]||(a[6]=(0,r.Lk)("span",{class:"suggestion-label"},"인기 검색어:",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.popularKeywords,t=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:a=>l.searchByKeyword(t),class:"suggestion-tag"},(0,n.v_)(t),9,dt))),128))])])])])])]),i.hasSearched?((0,r.uX)(),(0,r.CE)("section",ut,[(0,r.Lk)("div",ht,[(0,r.Lk)("div",gt,[(0,r.Lk)("h2",kt,[i.searchKeyword?((0,r.uX)(),(0,r.CE)("span",vt,'"'+(0,n.v_)(i.searchKeyword)+'" 검색 결과',1)):((0,r.uX)(),(0,r.CE)("span",pt,"뉴스 검색 결과"))]),(0,r.Lk)("div",Lt,[!l.isSearching&&t.hasArticles?((0,r.uX)(),(0,r.CE)("span",mt," 총 "+(0,n.v_)(t.articles.length)+"개의 기사 ",1)):(0,r.Q3)("",!0),t.hasArticles?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:a[3]||(a[3]=(...t)=>l.clearResults&&l.clearResults(...t)),class:"btn btn-sm btn-outline"}," 검색 초기화 ")):(0,r.Q3)("",!0)])]),l.isSearching?((0,r.uX)(),(0,r.CE)("div",yt,a[9]||(a[9]=[(0,r.Lk)("div",{class:"loading-spinner-large"},null,-1),(0,r.Lk)("p",null,"뉴스를 검색하고 AI 요약을 생성하는 중...",-1)]))):!t.hasArticles&&i.hasSearched?((0,r.uX)(),(0,r.CE)("div",ft,a[10]||(a[10]=[(0,r.Lk)("div",{class:"no-results-icon"},"📰",-1),(0,r.Lk)("h3",null,"검색 결과가 없습니다",-1),(0,r.Lk)("p",null,"다른 키워드로 검색해보세요",-1)]))):t.hasArticles?((0,r.uX)(),(0,r.CE)("div",bt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.articles,(t,a)=>((0,r.uX)(),(0,r.Wv)(c,{key:a,article:t},null,8,["article"]))),128))])):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),i.hasSearched?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("section",St,a[11]||(a[11]=[(0,r.Fv)('<div class="container" data-v-89f452d6><h2 class="section-title" data-v-89f452d6>주요 기능</h2><div class="features-grid" data-v-89f452d6><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>🔍</div><h3 class="feature-title" data-v-89f452d6>실시간 뉴스 검색</h3><p class="feature-description" data-v-89f452d6> 네이버 뉴스에서 실시간으로 관련 뉴스를 검색하고 최신 정보를 제공합니다. </p></div><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>🤖</div><h3 class="feature-title" data-v-89f452d6>AI 뉴스 요약</h3><p class="feature-description" data-v-89f452d6> GPT를 활용하여 복잡한 뉴스 내용을 간결하고 이해하기 쉽게 요약합니다. </p></div><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>📈</div><h3 class="feature-title" data-v-89f452d6>자동매매 시스템</h3><p class="feature-description" data-v-89f452d6> 로그인 후 AI 기반 자동매매 전략을 설정하고 실행할 수 있습니다. </p></div></div></div>',1)]))),t.isAuthenticated||i.hasSearched?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("section",_t,a[12]||(a[12]=[(0,r.Lk)("div",{class:"container"},[(0,r.Lk)("div",{class:"cta-content"},[(0,r.Lk)("h2",{class:"cta-title"},"지금 시작하세요"),(0,r.Lk)("p",{class:"cta-description"}," 로그인하고 AI 기반 자동매매 서비스를 이용해보세요 ")])],-1)])))])}const Et={class:"news-card"},Tt={class:"news-header"},At={class:"news-title"},Ct=["href"],It={class:"news-meta"},Ot={class:"news-source"},Xt={class:"news-date"},Rt={class:"news-body"},Nt={class:"news-description"},Ut={class:"news-summary"},Mt={class:"summary-text"};function Dt(t,a,e,s,o,i){return(0,r.uX)(),(0,r.CE)("div",Et,[(0,r.Lk)("div",Tt,[(0,r.Lk)("h3",At,[(0,r.Lk)("a",{href:e.article.link,target:"_blank",rel:"noopener noreferrer",class:"news-link"},(0,n.v_)(e.article.title),9,Ct)]),(0,r.Lk)("div",It,[(0,r.Lk)("span",Ot,(0,n.v_)(e.article.source),1),(0,r.Lk)("span",Xt,(0,n.v_)(i.formatDate(e.article.publishedAt)),1)])]),(0,r.Lk)("div",Rt,[(0,r.Lk)("p",Nt,(0,n.v_)(e.article.description),1),(0,r.Lk)("div",Ut,[a[0]||(a[0]=(0,r.Lk)("div",{class:"summary-header"},[(0,r.Lk)("span",{class:"summary-label"},[(0,r.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]),(0,r.eW)(" AI 요약 ")])],-1)),(0,r.Lk)("p",Mt,(0,n.v_)(e.article.summary),1)])])])}var Gt={name:"NewsCard",props:{article:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{toggleExpanded(){this.isExpanded=!this.isExpanded},formatDate(t){if(!t)return"";try{const a=new Date(t),e=new Date,s=e-a,r=Math.floor(s/6e4),o=Math.floor(r/60),i=Math.floor(o/24);return r<1?"방금 전":r<60?`${r}분 전`:o<24?`${o}시간 전`:i<7?`${i}일 전`:a.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}catch(a){return t}}}};const xt=(0,E.A)(Gt,[["render",Dt],["__scopeId","data-v-50d9ccd5"]]);var Kt=xt,$t={name:"HomePage",components:{NewsCard:Kt},data(){return{searchKeyword:"",hasSearched:!1,popularKeywords:["삼성전자","양자컴퓨터","전기차","반도체","트럼프","테슬라","비트코인"]}},computed:{...(0,_.L8)("auth",["isAuthenticated"]),...(0,_.L8)("news",["articles","isLoading","hasArticles"]),isSearching(){return this.isLoading}},methods:{...(0,_.i0)("news",["searchNews","clearNews"]),async handleSearch(){this.searchKeyword.trim()&&(this.hasSearched=!0,await this.searchNews(this.searchKeyword.trim()))},async searchByKeyword(t){this.searchKeyword=t,await this.handleSearch()},clearResults(){this.hasSearched=!1,this.searchKeyword="",this.clearNews()}}};const Pt=(0,E.A)($t,[["render",wt],["__scopeId","data-v-89f452d6"]]);var Ft=Pt;const Bt={class:"login"},Wt={class:"login-container"},Ht={class:"login-card"},jt={class:"login-body"},qt={key:0,class:"alert alert-error"},Vt={class:"social-login"};function zt(t,a,e,s,o,i){return(0,r.uX)(),(0,r.CE)("div",Bt,[(0,r.Lk)("div",Wt,[(0,r.Lk)("div",Ht,[a[5]||(a[5]=(0,r.Lk)("div",{class:"login-header"},[(0,r.Lk)("h1",{class:"login-title"},"로그인"),(0,r.Lk)("p",{class:"login-subtitle"}," 소셜 계정으로 간편하게 로그인하세요 ")],-1)),(0,r.Lk)("div",jt,[o.errorMessage?((0,r.uX)(),(0,r.CE)("div",qt,(0,n.v_)(o.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",Vt,[(0,r.Lk)("button",{onClick:a[0]||(a[0]=(...t)=>i.loginWithGoogle&&i.loginWithGoogle(...t)),class:"social-button google"},a[2]||(a[2]=[(0,r.Fv)('<svg class="social-icon" viewBox="0 0 24 24" data-v-2d36d908><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-2d36d908></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-2d36d908></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-2d36d908></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-2d36d908></path></svg> Google로 로그인 ',2)])),(0,r.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>i.loginWithKakao&&i.loginWithKakao(...t)),class:"social-button kakao"},a[3]||(a[3]=[(0,r.Lk)("svg",{class:"social-icon",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{fill:"#000000",d:"M12 3c5.799 0 10.5 3.664 10.5 8.185 0 4.52-4.701 8.184-10.5 8.184a13.5 13.5 0 0 1-1.727-.11l-4.408 2.883c-.501.265-.678.236-.472-.413l.518-3.467C3.462 16.4 1.5 14.376 1.5 11.185 1.5 6.665 6.201 3 12 3z"})],-1),(0,r.eW)(" 카카오로 로그인 ",-1)]))]),a[4]||(a[4]=(0,r.Lk)("div",{class:"service-info"},[(0,r.Lk)("h3",{class:"info-title"},"로그인 후 이용 가능한 서비스"),(0,r.Lk)("ul",{class:"info-list"},[(0,r.Lk)("li",null,"AI 기반 자동매매 전략 설정"),(0,r.Lk)("li",null,"실시간 주식 자동매매 실행"),(0,r.Lk)("li",null,"개인화된 투자 포트폴리오 관리"),(0,r.Lk)("li",null,"매매 내역 및 수익률 분석")])],-1))]),a[6]||(a[6]=(0,r.Lk)("div",{class:"login-footer"},[(0,r.Lk)("p",{class:"footer-text"},[(0,r.eW)(" 로그인하면 "),(0,r.Lk)("a",{href:"#",class:"footer-link"},"서비스 이용약관"),(0,r.eW)("과 "),(0,r.Lk)("a",{href:"#",class:"footer-link"},"개인정보처리방침"),(0,r.eW)("에 동의하는 것으로 간주됩니다. ")])],-1))])])])}e(4979);const Qt=t=>{const a="https://tradesiteback.onrender.com/api";"google"===t?window.location.href=`${a}/auth/google`:"kakao"===t&&(window.location.href=`${a}/auth/kakao`)};var Yt={name:"LoginPage",data(){return{errorMessage:null}},created(){const t=this.$route.query.error;"auth_failed"===t&&(this.errorMessage="로그인에 실패했습니다. 다시 시도해주세요.")},methods:{...(0,_.i0)("auth",["loginWithToken"]),loginWithGoogle(){this.clearError(),Qt("google")},loginWithKakao(){this.clearError(),Qt("kakao")},clearError(){this.errorMessage=null}}};const Jt=(0,E.A)(Yt,[["render",zt],["__scopeId","data-v-2d36d908"]]);var Zt=Jt;const ta={class:"trading"},aa={class:"container"},ea={class:"status-dashboard"},sa={class:"status-cards"},ra={class:"status-card"},oa={class:"status-content"},ia={class:"status-card"},la={class:"status-content"},na={class:"status-value"},ca={class:"status-card"},da={class:"status-content"},ua={class:"status-value"},ha={class:"status-card"},ga={class:"status-content"},ka={class:"status-value"},va={class:"strategy-section"},pa={class:"history-section"},La={class:"card"},ma={class:"card-header"},ya={class:"header-actions"},fa=["disabled"],ba={class:"card-body"},Sa={key:0,class:"loading-state"},_a={key:1,class:"empty-state"},wa={key:2,class:"orders-container"},Ea={class:"orders-table desktop-only"},Ta={class:"table-cell"},Aa={class:"table-cell"},Ca={class:"stock-info"},Ia={class:"stock-name"},Oa={class:"table-cell"},Xa={class:"table-cell"},Ra={class:"table-cell"},Na={class:"table-cell"},Ua={class:"table-cell"},Ma={class:"table-cell"},Da={class:"orders-cards mobile-only"},Ga={class:"order-header"},xa={class:"stock-info"},Ka={class:"stock-name"},$a={class:"order-details"},Pa={class:"detail-row"},Fa={class:"detail-row"},Ba={class:"detail-row"},Wa={class:"detail-row"},Ha={class:"total-amount"},ja={class:"order-footer"},qa={class:"order-time"},Va={key:0,class:"show-more"};function za(t,a,e,s,o,i){const l=(0,r.g2)("TradingStrategy");return(0,r.uX)(),(0,r.CE)("div",ta,[(0,r.Lk)("div",aa,[a[19]||(a[19]=(0,r.Lk)("div",{class:"page-header"},[(0,r.Lk)("h1",{class:"page-title"},"자동매매 관리"),(0,r.Lk)("p",{class:"page-subtitle"}," AI 기반 투자 전략을 설정하고 자동매매를 실행하세요 ")],-1)),(0,r.Lk)("div",ea,[(0,r.Lk)("div",sa,[(0,r.Lk)("div",ra,[a[3]||(a[3]=(0,r.Lk)("div",{class:"status-icon trading"},[(0,r.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})])],-1)),(0,r.Lk)("div",oa,[a[2]||(a[2]=(0,r.Lk)("h3",{class:"status-title"},"매매 상태",-1)),(0,r.Lk)("p",{class:(0,n.C4)(["status-value",{active:t.isTrading,inactive:!t.isTrading}])},(0,n.v_)(t.isTrading?"실행 중":"대기 중"),3)])]),(0,r.Lk)("div",ia,[a[5]||(a[5]=(0,r.Lk)("div",{class:"status-icon strategy"},[(0,r.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])],-1)),(0,r.Lk)("div",la,[a[4]||(a[4]=(0,r.Lk)("h3",{class:"status-title"},"활성 전략",-1)),(0,r.Lk)("p",na,(0,n.v_)(t.currentStrategy?t.currentStrategy.strategy_name:"없음"),1)])]),(0,r.Lk)("div",ca,[a[7]||(a[7]=(0,r.Lk)("div",{class:"status-icon region"},[(0,r.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})])],-1)),(0,r.Lk)("div",da,[a[6]||(a[6]=(0,r.Lk)("h3",{class:"status-title"},"투자 지역",-1)),(0,r.Lk)("p",ua,(0,n.v_)(t.currentStrategy?"domestic"===t.currentStrategy.region?"국내":"해외":"-"),1)])]),(0,r.Lk)("div",ha,[a[9]||(a[9]=(0,r.Lk)("div",{class:"status-icon orders"},[(0,r.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})])],-1)),(0,r.Lk)("div",ga,[a[8]||(a[8]=(0,r.Lk)("h3",{class:"status-title"},"총 매매 건수",-1)),(0,r.Lk)("p",ka,(0,n.v_)(o.tradingHistory.length)+"건 ",1)])])])]),(0,r.Lk)("div",va,[(0,r.bF)(l)]),(0,r.Lk)("div",pa,[(0,r.Lk)("div",La,[(0,r.Lk)("div",ma,[a[11]||(a[11]=(0,r.Lk)("h2",{class:"card-title"},"최근 매매 이력",-1)),(0,r.Lk)("div",ya,[(0,r.Lk)("button",{onClick:a[0]||(a[0]=(...t)=>i.refreshHistory&&i.refreshHistory(...t)),class:"btn btn-sm btn-outline",disabled:o.historyLoading},a[10]||(a[10]=[(0,r.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[(0,r.Lk)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1),(0,r.eW)(" 새로고침 ",-1)]),8,fa)])]),(0,r.Lk)("div",ba,[o.historyLoading?((0,r.uX)(),(0,r.CE)("div",Sa,a[12]||(a[12]=[(0,r.Lk)("div",{class:"loading-spinner-large"},null,-1),(0,r.Lk)("p",null,"매매 이력을 불러오는 중...",-1)]))):i.hasOrders?((0,r.uX)(),(0,r.CE)("div",wa,[(0,r.Lk)("div",Ea,[a[14]||(a[14]=(0,r.Fv)('<div class="table-header" data-v-7ae95aaa><div class="table-cell" data-v-7ae95aaa>시간</div><div class="table-cell" data-v-7ae95aaa>종목</div><div class="table-cell" data-v-7ae95aaa>지역</div><div class="table-cell" data-v-7ae95aaa>구분</div><div class="table-cell" data-v-7ae95aaa>수량</div><div class="table-cell" data-v-7ae95aaa>가격</div><div class="table-cell" data-v-7ae95aaa>총액</div><div class="table-cell" data-v-7ae95aaa>상태</div></div>',1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.displayedOrders,t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"table-row"},[(0,r.Lk)("div",Ta,(0,n.v_)(i.formatDateTime(t.executed_at||t.created_at)),1),(0,r.Lk)("div",Aa,[(0,r.Lk)("div",Ca,[(0,r.Lk)("strong",null,(0,n.v_)(t.stock_code),1),(0,r.Lk)("span",Ia,(0,n.v_)(t.stock_name||"종목명"),1)])]),(0,r.Lk)("div",Oa,[(0,r.Lk)("span",{class:(0,n.C4)(["region-badge",t.region])},(0,n.v_)("domestic"===t.region?"🇰🇷 국내":"🌍 해외"),3)]),(0,r.Lk)("div",Xa,[(0,r.Lk)("span",{class:(0,n.C4)(["order-type",t.order_type?t.order_type.toLowerCase():""])},(0,n.v_)("BUY"===t.order_type?"매수":"매도"),3)]),(0,r.Lk)("div",Ra,(0,n.v_)(i.formatNumber(t.quantity))+"주 ",1),(0,r.Lk)("div",Na,(0,n.v_)(i.formatPrice(t.executed_price||t.order_price,t.region)),1),(0,r.Lk)("div",Ua,(0,n.v_)(i.formatPrice(t.total_amount,t.region)),1),(0,r.Lk)("div",Ma,[(0,r.Lk)("span",{class:(0,n.C4)(["order-status",t.status?t.status.toLowerCase():""])},(0,n.v_)(i.getStatusText(t.status)),3)])]))),128))]),(0,r.Lk)("div",Da,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.displayedOrders,t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"order-card"},[(0,r.Lk)("div",Ga,[(0,r.Lk)("div",xa,[(0,r.Lk)("strong",null,(0,n.v_)(t.stock_code),1),(0,r.Lk)("span",Ka,(0,n.v_)(t.stock_name||"종목명"),1)]),(0,r.Lk)("span",{class:(0,n.C4)(["region-badge",t.region])},(0,n.v_)("domestic"===t.region?"🇰🇷":"🌍"),3)]),(0,r.Lk)("div",$a,[(0,r.Lk)("div",Pa,[a[15]||(a[15]=(0,r.Lk)("span",{class:"label"},"구분:",-1)),(0,r.Lk)("span",{class:(0,n.C4)(["order-type",t.order_type?t.order_type.toLowerCase():""])},(0,n.v_)("BUY"===t.order_type?"매수":"매도"),3)]),(0,r.Lk)("div",Fa,[a[16]||(a[16]=(0,r.Lk)("span",{class:"label"},"수량:",-1)),(0,r.Lk)("span",null,(0,n.v_)(i.formatNumber(t.quantity))+"주",1)]),(0,r.Lk)("div",Ba,[a[17]||(a[17]=(0,r.Lk)("span",{class:"label"},"가격:",-1)),(0,r.Lk)("span",null,(0,n.v_)(i.formatPrice(t.executed_price||t.order_price,t.region)),1)]),(0,r.Lk)("div",Wa,[a[18]||(a[18]=(0,r.Lk)("span",{class:"label"},"총액:",-1)),(0,r.Lk)("span",Ha,(0,n.v_)(i.formatPrice(t.total_amount,t.region)),1)])]),(0,r.Lk)("div",ja,[(0,r.Lk)("span",qa,(0,n.v_)(i.formatDateTime(t.executed_at||t.created_at)),1),(0,r.Lk)("span",{class:(0,n.C4)(["order-status",t.status?t.status.toLowerCase():""])},(0,n.v_)(i.getStatusText(t.status)),3)])]))),128))]),o.tradingHistory.length>o.displayLimit?((0,r.uX)(),(0,r.CE)("div",Va,[(0,r.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>i.showMore&&i.showMore(...t)),class:"btn btn-outline"}," 더보기 ("+(0,n.v_)(Math.min(10,o.tradingHistory.length-o.displayLimit))+"건 더) ",1)])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",_a,a[13]||(a[13]=[(0,r.Lk)("div",{class:"empty-icon"},"📊",-1),(0,r.Lk)("h3",null,"매매 이력이 없습니다",-1),(0,r.Lk)("p",null,"자동매매를 시작하면 매매 이력이 여기에 표시됩니다.",-1)])))])])]),a[20]||(a[20]=(0,r.Fv)('<div class="help-section" data-v-7ae95aaa><div class="card" data-v-7ae95aaa><div class="card-header" data-v-7ae95aaa><h2 class="card-title" data-v-7ae95aaa>자동매매 가이드</h2></div><div class="card-body" data-v-7ae95aaa><div class="help-grid" data-v-7ae95aaa><div class="help-item" data-v-7ae95aaa><div class="help-icon" data-v-7ae95aaa>⚙️</div><h3 class="help-title" data-v-7ae95aaa>전략 설정</h3><p class="help-description" data-v-7ae95aaa> 시장 상태와 투자 지역을 선택하고, 투자할 종목들과 각각의 투자 비율을 설정하세요. </p></div><div class="help-item" data-v-7ae95aaa><div class="help-icon" data-v-7ae95aaa>🚀</div><h3 class="help-title" data-v-7ae95aaa>매매 시작</h3><p class="help-description" data-v-7ae95aaa> 전략 설정 후 &quot;자동매매 시작&quot; 버튼을 클릭하면 설정된 조건에 따라 5분마다 자동으로 매매가 실행됩니다. </p></div><div class="help-item" data-v-7ae95aaa><div class="help-icon" data-v-7ae95aaa>📊</div><h3 class="help-title" data-v-7ae95aaa>모니터링</h3><p class="help-description" data-v-7ae95aaa> 실시간으로 매매 상태를 확인하고, 매매 이력을 통해 성과를 분석할 수 있습니다. </p></div><div class="help-item" data-v-7ae95aaa><div class="help-icon" data-v-7ae95aaa>⛔</div><h3 class="help-title" data-v-7ae95aaa>매매 중단</h3><p class="help-description" data-v-7ae95aaa> 언제든지 &quot;자동매매 종료&quot; 버튼을 클릭하여 자동매매를 안전하게 중단할 수 있습니다. </p></div></div></div></div></div>',1))])])}const Qa={class:"strategy-form"},Ya={class:"card"},Ja={class:"card-body"},Za={class:"form-group"},te={class:"market-options"},ae={class:"market-option"},ee={class:"market-option"},se={class:"form-group"},re={class:"region-options"},oe={class:"region-option"},ie={class:"region-option"},le={key:0,class:"best-strategy"},ne={class:"strategy-header"},ce={class:"strategy-performance"},de={class:"strategy-info"},ue={class:"recommended-stocks"},he={class:"stock-chips"},ge={class:"form-group"},ke={class:"stocks-container"},ve={class:"stock-inputs"},pe=["onUpdate:modelValue","placeholder","onBlur"],Le=["onUpdate:modelValue"],me={class:"allocation-input-group"},ye=["onUpdate:modelValue"],fe=["onClick"],be={key:0,class:"form-error"},Se={class:"allocation-summary"},_e={key:0,class:"allocation-warning"},we={class:"card-footer"},Ee={class:"strategy-actions"},Te={class:"trading-status"},Ae={key:0,class:"status-indicator active"},Ce={key:1,class:"status-indicator inactive"},Ie={class:"action-buttons"},Oe=["disabled"],Xe={key:0,class:"loading-spinner"},Re=["disabled"],Ne={key:0,class:"loading-spinner"};function Ue(t,a,e,o,i,l){return(0,r.uX)(),(0,r.CE)("div",Qa,[(0,r.Lk)("div",Ya,[a[23]||(a[23]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h2",{class:"card-title"},"자동매매 전략 설정")],-1)),(0,r.Lk)("div",Ja,[(0,r.Lk)("div",Za,[a[11]||(a[11]=(0,r.Lk)("label",{class:"form-label"},"시장 상태 선택",-1)),(0,r.Lk)("div",te,[(0,r.Lk)("label",ae,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":a[0]||(a[0]=t=>i.strategy.marketType=t),value:"bull",class:"market-radio"},null,512),[[s.XL,i.strategy.marketType]]),a[9]||(a[9]=(0,r.Lk)("div",{class:"market-card bull"},[(0,r.Lk)("div",{class:"market-icon"},"📈"),(0,r.Lk)("div",{class:"market-label"},"상승장 전략"),(0,r.Lk)("div",{class:"market-desc"},"모멘텀 + 성장주 중심")],-1))]),(0,r.Lk)("label",ee,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":a[1]||(a[1]=t=>i.strategy.marketType=t),value:"bear",class:"market-radio"},null,512),[[s.XL,i.strategy.marketType]]),a[10]||(a[10]=(0,r.Lk)("div",{class:"market-card bear"},[(0,r.Lk)("div",{class:"market-icon"},"📉"),(0,r.Lk)("div",{class:"market-label"},"하락장 전략"),(0,r.Lk)("div",{class:"market-desc"},"가치주 + 배당주 중심")],-1))])])]),(0,r.Lk)("div",se,[a[14]||(a[14]=(0,r.Lk)("label",{class:"form-label"},"투자 지역",-1)),(0,r.Lk)("div",re,[(0,r.Lk)("label",oe,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=t=>i.strategy.region=t),value:"domestic",class:"region-radio"},null,512),[[s.XL,i.strategy.region]]),a[12]||(a[12]=(0,r.Lk)("div",{class:"region-card"},[(0,r.Lk)("span",{class:"region-flag"},"🇰🇷"),(0,r.Lk)("span",{class:"region-text"},"국내 투자")],-1))]),(0,r.Lk)("label",ie,[(0,r.bo)((0,r.Lk)("input",{type:"radio","onUpdate:modelValue":a[3]||(a[3]=t=>i.strategy.region=t),value:"global",class:"region-radio"},null,512),[[s.XL,i.strategy.region]]),a[13]||(a[13]=(0,r.Lk)("div",{class:"region-card"},[(0,r.Lk)("span",{class:"region-flag"},"🌍"),(0,r.Lk)("span",{class:"region-text"},"해외 투자")],-1))])])]),t.bestStrategy?((0,r.uX)(),(0,r.CE)("div",le,[(0,r.Lk)("div",ne,[a[15]||(a[15]=(0,r.Lk)("span",{class:"strategy-badge"},"AI 추천 전략",-1)),(0,r.Lk)("span",ce," 예상 수익률: "+(0,n.v_)(t.bestStrategy.expectedReturn)+"% ",1)]),(0,r.Lk)("div",de,[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,n.v_)(t.bestStrategy.name),1)]),(0,r.Lk)("p",null,(0,n.v_)(t.bestStrategy.description),1),(0,r.Lk)("div",ue,[a[16]||(a[16]=(0,r.Lk)("h4",null,"추천 종목 구성",-1)),(0,r.Lk)("div",he,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.bestStrategy.stocks,t=>((0,r.uX)(),(0,r.CE)("span",{key:t.code,class:"stock-chip"},(0,n.v_)(t.name)+" ("+(0,n.v_)(t.allocation)+"%) ",1))),128))])])]),(0,r.Lk)("button",{onClick:a[4]||(a[4]=(...t)=>l.applyBestStrategy&&l.applyBestStrategy(...t)),class:"btn btn-sm btn-outline"}," 이 전략 적용 ")])):(0,r.Q3)("",!0),(0,r.Lk)("div",ge,[a[18]||(a[18]=(0,r.Lk)("label",{class:"form-label"},"종목 구성",-1)),(0,r.Lk)("div",ke,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.strategy.stocks,(t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"stock-item"},[(0,r.Lk)("div",ve,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a=>t.code=a,placeholder:"domestic"===i.strategy.region?"종목코드 (예: 005930)":"티커 (예: AAPL)",class:"form-input stock-code",onBlur:t=>l.validateStockCode(e)},null,40,pe),[[s.Jo,t.code]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a=>t.name=a,placeholder:"종목명",class:"form-input stock-name",readonly:""},null,8,Le),[[s.Jo,t.name]]),(0,r.Lk)("div",me,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":a=>t.allocation=a,min:"1",max:"100",placeholder:"비율",class:"form-input allocation-input",onInput:a[5]||(a[5]=(...t)=>l.updateTotalAllocation&&l.updateTotalAllocation(...t))},null,40,ye),[[s.Jo,t.allocation]]),a[17]||(a[17]=(0,r.Lk)("span",{class:"allocation-unit"},"%",-1))]),i.strategy.stocks.length>1?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>l.removeStock(e),class:"btn-remove",type:"button"}," × ",8,fe)):(0,r.Q3)("",!0)]),t.error?((0,r.uX)(),(0,r.CE)("div",be,(0,n.v_)(t.error),1)):(0,r.Q3)("",!0)]))),128)),(0,r.Lk)("button",{onClick:a[6]||(a[6]=(...t)=>l.addStock&&l.addStock(...t)),class:"btn btn-outline btn-sm add-stock-btn",type:"button"}," + 종목 추가 "),(0,r.Lk)("div",Se,[(0,r.Lk)("span",{class:(0,n.C4)(["total-allocation",{invalid:100!==i.totalAllocation}])}," 총 투자 비율: "+(0,n.v_)(i.totalAllocation)+"% ",3),100!==i.totalAllocation?((0,r.uX)(),(0,r.CE)("span",_e," (총 100%가 되어야 합니다) ")):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",we,[(0,r.Lk)("div",Ee,[(0,r.Lk)("div",Te,[t.isTrading?((0,r.uX)(),(0,r.CE)("span",Ae,a[19]||(a[19]=[(0,r.Lk)("span",{class:"status-dot"},null,-1),(0,r.eW)(" 자동매매 실행 중 ",-1)]))):((0,r.uX)(),(0,r.CE)("span",Ce,a[20]||(a[20]=[(0,r.Lk)("span",{class:"status-dot"},null,-1),(0,r.eW)(" 자동매매 대기 중 ",-1)])))]),(0,r.Lk)("div",Ie,[t.isTrading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:a[7]||(a[7]=(...t)=>l.startTrading&&l.startTrading(...t)),disabled:!l.isValidStrategy||l.loading,class:"btn btn-success"},[l.loading?((0,r.uX)(),(0,r.CE)("span",Xe)):(0,r.Q3)("",!0),a[21]||(a[21]=(0,r.eW)(" 자동매매 시작 ",-1))],8,Oe)),t.isTrading?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:a[8]||(a[8]=(...t)=>l.stopTrading&&l.stopTrading(...t)),disabled:l.loading,class:"btn btn-danger"},[l.loading?((0,r.uX)(),(0,r.CE)("span",Ne)):(0,r.Q3)("",!0),a[22]||(a[22]=(0,r.eW)(" 자동매매 종료 ",-1))],8,Re)):(0,r.Q3)("",!0)])])])])])}e(8111),e(1148),e(1701),e(8237),e(3579);var Me={name:"TradingStrategy",data(){return{strategy:{marketType:"bull",region:"domestic",stocks:[{code:"",name:"",allocation:100,error:null}]},totalAllocation:100}},computed:{...(0,_.L8)("trading",["bestStrategy","isTrading","isLoading","currentStrategy"]),loading(){return this.isLoading},isValidStrategy(){return this.strategy.marketType&&this.strategy.region&&this.strategy.stocks.every(t=>t.code&&t.allocation>0)&&100===this.totalAllocation&&!this.strategy.stocks.some(t=>t.error)}},async created(){await this.loadBestStrategy(),await this.loadTradingStatus(),this.currentStrategy&&this.loadCurrentStrategy()},methods:{...(0,_.i0)("trading",["loadBestStrategy","loadTradingStatus","createStrategy","startTrading as startTradingAction","stopTrading as stopTradingAction"]),loadCurrentStrategy(){this.currentStrategy&&(this.strategy={marketType:this.currentStrategy.marketType,region:this.currentStrategy.region,stocks:this.currentStrategy.stocks||[{code:"",name:"",allocation:100,error:null}]},this.updateTotalAllocation())},applyBestStrategy(){this.bestStrategy&&(this.strategy={marketType:this.bestStrategy.marketType,region:this.bestStrategy.region,stocks:this.bestStrategy.stocks.map(t=>({code:t.code,name:t.name,allocation:t.allocation,error:null}))},this.updateTotalAllocation())},addStock(){this.strategy.stocks.length<10&&this.strategy.stocks.push({code:"",name:"",allocation:0,error:null})},removeStock(t){this.strategy.stocks.splice(t,1),this.updateTotalAllocation()},updateTotalAllocation(){this.totalAllocation=this.strategy.stocks.reduce((t,a)=>t+(parseInt(a.allocation)||0),0)},async validateStockCode(t){const a=this.strategy.stocks[t];if(!a.code)return a.error=null,void(a.name="");try{if("domestic"===this.strategy.region){if(!/^\d{6}$/.test(a.code))return a.error="올바른 종목 코드를 입력해주세요 (6자리 숫자)",void(a.name="");const t={"005930":"삼성전자","000660":"SK하이닉스","035420":"NAVER","051910":"LG화학","006400":"삼성SDI","035720":"카카오",207940:"삼성바이오로직스",373220:"LG에너지솔루션","000270":"기아","068270":"셀트리온"};a.name=t[a.code]||"알 수 없는 종목",a.error=null}else{if(!/^[A-Z]{1,5}$/.test(a.code.toUpperCase()))return a.error="올바른 티커를 입력해주세요",void(a.name="");const t={AAPL:"Apple Inc.",MSFT:"Microsoft Corp.",GOOGL:"Alphabet Inc.",AMZN:"Amazon.com Inc.",TSLA:"Tesla Inc.",META:"Meta Platforms Inc.",NVDA:"NVIDIA Corp.",NFLX:"Netflix Inc."};a.code=a.code.toUpperCase(),a.name=t[a.code]||"알 수 없는 종목",a.error=null}}catch(e){a.error="종목 정보를 가져올 수 없습니다",a.name=""}},async startTrading(){try{const t=await this.createStrategy(this.strategy);if(t){const t=this.currentStrategy;t&&await this.startTradingAction(t.id)}}catch(t){console.error("자동매매 시작 오류:",t)}},async stopTrading(){try{await this.stopTradingAction()}catch(t){console.error("자동매매 중단 오류:",t)}}}};const De=(0,E.A)(Me,[["render",Ue],["__scopeId","data-v-13662dfe"]]);var Ge=De,xe={name:"TradingPage",components:{TradingStrategy:Ge},data(){return{tradingHistory:[],historyLoading:!1,displayLimit:10}},computed:{...(0,_.L8)("trading",["isTrading","currentStrategy","isLoading"]),hasOrders(){return this.tradingHistory.length>0},displayedOrders(){return this.tradingHistory.slice(0,this.displayLimit)}},async created(){try{await this.loadTradingStatus(),await this.loadTradingHistory()}catch(t){console.error("페이지 초기화 오류:",t)}},methods:{...(0,_.i0)("trading",["loadTradingStatus"]),async loadTradingHistory(){this.historyLoading=!0;try{const t=await M.get("/trading/history");t.data.success&&(this.tradingHistory=t.data.data||[])}catch(t){console.error("매매 이력 로드 실패:",t),this.tradingHistory=[],this.$toast?this.$toast.error("매매 이력을 불러오는데 실패했습니다."):console.warn("매매 이력을 불러오는데 실패했습니다.")}finally{this.historyLoading=!1}},async refreshHistory(){await this.loadTradingHistory(),this.$toast&&this.$toast.success("매매 이력이 새로고침되었습니다.")},showMore(){this.displayLimit+=10},formatDateTime(t){if(!t)return"-";try{const a=new Date(t);if(isNaN(a.getTime()))return"-";const e=new Date,s=e-a,r=Math.floor(s/6e4),o=Math.floor(r/60),i=Math.floor(o/24);return r<1?"방금 전":r<60?`${r}분 전`:o<24?`${o}시간 전`:i<7?`${i}일 전`:a.toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(a){return console.error("날짜 포맷 오류:",a),t}},formatPrice(t,a){if(!t||null===t||void 0===t)return"-";try{const e="string"===typeof t?parseFloat(t):t;return isNaN(e)?"-":"domestic"===a?e.toLocaleString()+"원":"$"+e.toFixed(2)}catch(e){return console.error("가격 포맷 오류:",e),"-"}},formatNumber(t){if(!t||null===t||void 0===t)return"0";try{const a="string"===typeof t?parseInt(t):t;return isNaN(a)?"0":a.toLocaleString()}catch(a){return console.error("숫자 포맷 오류:",a),"0"}},getStatusText(t){if(!t)return"알 수 없음";const a={PENDING:"대기",FILLED:"체결",PARTIALLY_FILLED:"부분체결",CANCELLED:"취소",REJECTED:"거부"};return a[t]||t}}};const Ke=(0,E.A)(xe,[["render",za],["__scopeId","data-v-7ae95aaa"]]);var $e=Ke;const Pe={class:"auth-callback"},Fe={class:"callback-container"},Be={class:"callback-content"},We={class:"callback-title"},He={class:"callback-message"},je={key:0,class:"debug-info"};function qe(t,a,e,s,o,i){return(0,r.uX)(),(0,r.CE)("div",Pe,[(0,r.Lk)("div",Fe,[(0,r.Lk)("div",Be,[a[1]||(a[1]=(0,r.Lk)("div",{class:"loading-spinner-large"},null,-1)),(0,r.Lk)("h2",We,(0,n.v_)(o.title),1),(0,r.Lk)("p",He,(0,n.v_)(o.message),1),o.showDebug?((0,r.uX)(),(0,r.CE)("div",je,[a[0]||(a[0]=(0,r.Lk)("h4",null,"디버그 정보:",-1)),(0,r.Lk)("pre",null,(0,n.v_)(o.debugInfo),1)])):(0,r.Q3)("",!0)])])])}e(4603),e(7566),e(8721);var Ve={name:"AuthCallback",data(){return{title:"로그인 처리 중...",message:"잠시만 기다려주세요.",showDebug:!1,debugInfo:{}}},async mounted(){console.log("🎬 AuthCallback 컴포넌트 마운트됨"),await this.handleAuthCallback()},methods:{...(0,_.i0)("auth",["loginWithToken"]),async handleAuthCallback(){try{console.log("🔄 OAuth 콜백 처리 시작");const t=new URLSearchParams(window.location.search),a=t.get("token")||this.$route.query.token,e=t.get("provider")||this.$route.query.provider,s=t.get("name")||this.$route.query.name,r=t.get("error")||this.$route.query.error;if(this.debugInfo={url:window.location.href,queryParams:this.$route.query,urlParams:Object.fromEntries(t),token:a?a.substring(0,20)+"...":"null",provider:e,name:"미연동 계정"===s?"한원석":s?decodeURIComponent(s):"null",error:r},r)throw new Error(`OAuth 오류: ${r}`);if(!a)throw this.showDebug=!0,new Error("토큰이 없습니다. URL 파라미터를 확인해주세요.");console.log("🔐 OAuth 제공자:",e),console.log("👤 사용자 이름:",decodeURIComponent(s||"")),this.message="토큰을 처리하고 있습니다...";const o=await this.loginWithToken(a);if(!o)throw new Error("토큰 처리에 실패했습니다.");console.log("✅ 로그인 성공! 홈으로 이동"),this.title="로그인 완료!",this.message="홈페이지로 이동합니다...",setTimeout(()=>{this.$router.replace("/")},2e3)}catch(t){console.error("❌ Auth callback 오류:",t),this.title="로그인 오류",this.message=`오류: ${t.message}`,this.showDebug=!0,setTimeout(()=>{this.$router.replace({name:"Login",query:{error:"callback_failed"}})},5e3)}}}};const ze=(0,E.A)(Ve,[["render",qe],["__scopeId","data-v-6e08d704"]]);var Qe=ze;const Ye={class:"not-found"},Je={class:"container"},Ze={class:"not-found-content"},ts={class:"error-actions"},as={class:"helpful-links"},es={class:"links-list"},ss={key:0};function rs(t,a,e,s,o,i){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ye,[(0,r.Lk)("div",Je,[(0,r.Lk)("div",Ze,[a[6]||(a[6]=(0,r.Lk)("div",{class:"error-code"},"404",-1)),a[7]||(a[7]=(0,r.Lk)("h1",{class:"error-title"},"페이지를 찾을 수 없습니다",-1)),a[8]||(a[8]=(0,r.Lk)("p",{class:"error-message"}," 요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다. ",-1)),(0,r.Lk)("div",ts,[(0,r.bF)(l,{to:"/",class:"btn btn-primary"},{default:(0,r.k6)(()=>a[1]||(a[1]=[(0,r.eW)(" 홈으로 돌아가기 ",-1)])),_:1,__:[1]}),(0,r.Lk)("button",{onClick:a[0]||(a[0]=(...t)=>i.goBack&&i.goBack(...t)),class:"btn btn-outline"}," 이전 페이지 ")]),(0,r.Lk)("div",as,[a[5]||(a[5]=(0,r.Lk)("h3",null,"도움이 될 만한 링크",-1)),(0,r.Lk)("ul",es,[(0,r.Lk)("li",null,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)(()=>a[2]||(a[2]=[(0,r.eW)("홈페이지",-1)])),_:1,__:[2]})]),(0,r.Lk)("li",null,[(0,r.bF)(l,{to:"/login"},{default:(0,r.k6)(()=>a[3]||(a[3]=[(0,r.eW)("로그인",-1)])),_:1,__:[3]})]),t.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",ss,[(0,r.bF)(l,{to:"/trading"},{default:(0,r.k6)(()=>a[4]||(a[4]=[(0,r.eW)("자동매매",-1)])),_:1,__:[4]})])):(0,r.Q3)("",!0)])])])])])}var os={name:"NotFound",computed:{...(0,_.L8)("auth",["isAuthenticated"])},methods:{goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}};const is=(0,E.A)(os,[["render",rs],["__scopeId","data-v-bb989544"]]);var ls=is;const ns=[{path:"/",name:"Home",component:Ft,meta:{title:"홈 - 주식 자동매매 사이트",requiresAuth:!1}},{path:"/login",name:"Login",component:Zt,meta:{title:"로그인 - 주식 자동매매 사이트",requiresAuth:!1}},{path:"/trading",name:"Trading",component:$e,meta:{title:"자동매매 - 주식 자동매매 사이트",requiresAuth:!0}},{path:"/auth/callback",name:"AuthCallback",component:Qe,meta:{title:"로그인 처리 중...",requiresAuth:!1}},{path:"/404",name:"NotFound",component:ls,meta:{title:"페이지를 찾을 수 없습니다",requiresAuth:!1}},{path:"/:pathMatch(.*)*",redirect:"/404"}],cs=(0,X.aE)({history:(0,X.LA)("/TradeSiteFront/"),routes:ns});cs.beforeEach((t,a,e)=>{if(console.log("🔄 라우터 이동:",a.path,"→",t.path),document.title=t.meta.title||"주식 자동매매 사이트",t.meta.requiresAuth){const a=J.getters["auth/isAuthenticated"];if(!a)return console.log("🔒 인증 필요 - 로그인 페이지로 이동"),void e({name:"Login",query:{redirect:t.fullPath}})}if("Login"===t.name&&J.getters["auth/isAuthenticated"])return console.log("✅ 이미 로그인됨 - 홈으로 이동"),void e({name:"Home"});e()});var ds=cs;e(7917);const us=(0,s.Ef)(O);us.use(J),us.use(ds),us.use(D.Ay,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),us.mount("#app")}},a={};function e(s){var r=a[s];if(void 0!==r)return r.exports;var o=a[s]={exports:{}};return t[s].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,s,r,o){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],o=t[d][2];for(var l=!0,n=0;n<s.length;n++)(!1&o||i>=o)&&Object.keys(e.O).every(function(t){return e.O[t](s[n])})?s.splice(n--,1):(l=!1,o<i&&(i=o));if(l){t.splice(d--,1);var c=r();void 0!==c&&(a=c)}}return a}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[s,r,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var r,o,i=s[0],l=s[1],n=s[2],c=0;if(i.some(function(a){return 0!==t[a]})){for(r in l)e.o(l,r)&&(e.m[r]=l[r]);if(n)var d=n(e)}for(a&&a(s);c<i.length;c++)o=i[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(d)},s=self["webpackChunktrade_frontend"]=self["webpackChunktrade_frontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],function(){return e(6475)});s=e.O(s)})();
//# sourceMappingURL=app.2af02286.js.map