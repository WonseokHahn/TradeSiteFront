"use strict";(self["webpackChunktrade_frontend"]=self["webpackChunktrade_frontend"]||[]).push([[214],{2214:function(t,a,s){s.r(a),s.d(a,{default:function(){return vt}});var e=s(6768),c=s(4232);const l={class:"trading"},i={class:"container"},r={class:"status-dashboard"},d={class:"status-cards"},o={class:"status-card"},n={class:"status-content"},v={class:"status-card"},k={class:"status-content"},u={class:"status-value"},g={class:"status-card"},p={class:"status-content"},L={class:"status-value"},y={class:"strategy-section"},b={class:"history-section"},h={class:"card"},m={class:"card-body"},C={key:0,class:"empty-state"},S={key:1,class:"orders-table"},T={class:"table-cell"},f={class:"table-cell"},E={class:"table-cell"},_={class:"table-cell"},w={class:"table-cell"},X={class:"table-cell"};function x(t,a,s,x,A,B){const V=(0,e.g2)("TradingStrategy");return(0,e.uX)(),(0,e.CE)("div",l,[(0,e.Lk)("div",i,[a[9]||(a[9]=(0,e.Lk)("div",{class:"page-header"},[(0,e.Lk)("h1",{class:"page-title"},"자동매매 관리"),(0,e.Lk)("p",{class:"page-subtitle"}," AI 기반 투자 전략을 설정하고 자동매매를 실행하세요 ")],-1)),(0,e.Lk)("div",r,[(0,e.Lk)("div",d,[(0,e.Lk)("div",o,[a[1]||(a[1]=(0,e.Lk)("div",{class:"status-icon trading"},[(0,e.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,e.Lk)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})])],-1)),(0,e.Lk)("div",n,[a[0]||(a[0]=(0,e.Lk)("h3",{class:"status-title"},"매매 상태",-1)),(0,e.Lk)("p",{class:(0,c.C4)(["status-value",{active:t.isTrading,inactive:!t.isTrading}])},(0,c.v_)(t.isTrading?"실행 중":"대기 중"),3)])]),(0,e.Lk)("div",v,[a[3]||(a[3]=(0,e.Lk)("div",{class:"status-icon strategy"},[(0,e.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,e.Lk)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])],-1)),(0,e.Lk)("div",k,[a[2]||(a[2]=(0,e.Lk)("h3",{class:"status-title"},"활성 전략",-1)),(0,e.Lk)("p",u,(0,c.v_)(t.currentStrategy?t.currentStrategy.stockCode:"없음"),1)])]),(0,e.Lk)("div",g,[a[5]||(a[5]=(0,e.Lk)("div",{class:"status-icon allocation"},[(0,e.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[(0,e.Lk)("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"})])],-1)),(0,e.Lk)("div",p,[a[4]||(a[4]=(0,e.Lk)("h3",{class:"status-title"},"투자 비율",-1)),(0,e.Lk)("p",L,(0,c.v_)(t.currentStrategy?t.currentStrategy.allocation+"%":"0%"),1)])])])]),(0,e.Lk)("div",y,[(0,e.bF)(V)]),(0,e.Lk)("div",b,[(0,e.Lk)("div",h,[a[8]||(a[8]=(0,e.Lk)("div",{class:"card-header"},[(0,e.Lk)("h2",{class:"card-title"},"최근 매매 이력"),(0,e.Lk)("button",{class:"btn btn-sm btn-outline"}," 전체 보기 ")],-1)),(0,e.Lk)("div",m,[A.hasOrders?((0,e.uX)(),(0,e.CE)("div",S,[a[7]||(a[7]=(0,e.Fv)('<div class="table-header" data-v-ccc49be0><div class="table-cell" data-v-ccc49be0>시간</div><div class="table-cell" data-v-ccc49be0>종목</div><div class="table-cell" data-v-ccc49be0>구분</div><div class="table-cell" data-v-ccc49be0>수량</div><div class="table-cell" data-v-ccc49be0>가격</div><div class="table-cell" data-v-ccc49be0>상태</div></div>',1)),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(A.recentOrders,t=>((0,e.uX)(),(0,e.CE)("div",{key:t.id,class:"table-row"},[(0,e.Lk)("div",T,(0,c.v_)(B.formatDateTime(t.executedAt)),1),(0,e.Lk)("div",f,(0,c.v_)(t.stockCode),1),(0,e.Lk)("div",E,[(0,e.Lk)("span",{class:(0,c.C4)(["order-type",t.orderType.toLowerCase()])},(0,c.v_)("BUY"===t.orderType?"매수":"매도"),3)]),(0,e.Lk)("div",_,(0,c.v_)(t.quantity.toLocaleString())+"주 ",1),(0,e.Lk)("div",w,(0,c.v_)(t.price.toLocaleString())+"원 ",1),(0,e.Lk)("div",X,[(0,e.Lk)("span",{class:(0,c.C4)(["order-status",t.status.toLowerCase()])},(0,c.v_)(B.getStatusText(t.status)),3)])]))),128))])):((0,e.uX)(),(0,e.CE)("div",C,a[6]||(a[6]=[(0,e.Lk)("div",{class:"empty-icon"},"📊",-1),(0,e.Lk)("h3",null,"매매 이력이 없습니다",-1),(0,e.Lk)("p",null,"자동매매를 시작하면 매매 이력이 여기에 표시됩니다.",-1)])))])])]),a[10]||(a[10]=(0,e.Fv)('<div class="help-section" data-v-ccc49be0><div class="card" data-v-ccc49be0><div class="card-header" data-v-ccc49be0><h2 class="card-title" data-v-ccc49be0>자동매매 가이드</h2></div><div class="card-body" data-v-ccc49be0><div class="help-grid" data-v-ccc49be0><div class="help-item" data-v-ccc49be0><div class="help-icon" data-v-ccc49be0>⚙️</div><h3 class="help-title" data-v-ccc49be0>전략 설정</h3><p class="help-description" data-v-ccc49be0> 시장 상태에 따라 상승장 또는 하락장 전략을 선택하고, 투자할 종목과 비율을 설정하세요. </p></div><div class="help-item" data-v-ccc49be0><div class="help-icon" data-v-ccc49be0>🚀</div><h3 class="help-title" data-v-ccc49be0>매매 시작</h3><p class="help-description" data-v-ccc49be0> 전략 설정 후 &quot;자동매매 시작&quot; 버튼을 클릭하면 설정된 조건에 따라 자동으로 매매가 실행됩니다. </p></div><div class="help-item" data-v-ccc49be0><div class="help-icon" data-v-ccc49be0>📊</div><h3 class="help-title" data-v-ccc49be0>모니터링</h3><p class="help-description" data-v-ccc49be0> 실시간으로 매매 상태를 확인하고, 매매 이력을 통해 성과를 분석할 수 있습니다. </p></div><div class="help-item" data-v-ccc49be0><div class="help-icon" data-v-ccc49be0>⛔</div><h3 class="help-title" data-v-ccc49be0>매매 중단</h3><p class="help-description" data-v-ccc49be0> 언제든지 &quot;자동매매 종료&quot; 버튼을 클릭하여 자동매매를 중단할 수 있습니다. </p></div></div></div></div></div>',1))])])}var A=s(782),B=s(5130);const V={class:"strategy-form"},I={class:"card"},U={class:"card-body"},D={class:"form-group"},Q={class:"market-options"},q={class:"market-option"},z={class:"market-option"},F={key:0,class:"best-strategy"},W={class:"strategy-header"},M={class:"strategy-performance"},N={class:"strategy-info"},O={class:"form-group"},R={key:0,class:"form-error"},J={class:"form-group"},H={class:"allocation-input"},K={class:"allocation-display"},P={class:"card-footer"},G={class:"strategy-actions"},Y={class:"trading-status"},$={key:0,class:"status-indicator active"},j={key:1,class:"status-indicator inactive"},Z={class:"action-buttons"},tt=["disabled"],at={key:0,class:"loading-spinner"},st=["disabled"],et={key:0,class:"loading-spinner"};function ct(t,a,s,l,i,r){return(0,e.uX)(),(0,e.CE)("div",V,[(0,e.Lk)("div",I,[a[20]||(a[20]=(0,e.Lk)("div",{class:"card-header"},[(0,e.Lk)("h2",{class:"card-title"},"자동매매 전략 설정")],-1)),(0,e.Lk)("div",U,[(0,e.Lk)("div",D,[a[11]||(a[11]=(0,e.Lk)("label",{class:"form-label"},"시장 상태 선택",-1)),(0,e.Lk)("div",Q,[(0,e.Lk)("label",q,[(0,e.bo)((0,e.Lk)("input",{type:"radio","onUpdate:modelValue":a[0]||(a[0]=t=>i.strategy.marketType=t),value:"bull",class:"market-radio"},null,512),[[B.XL,i.strategy.marketType]]),a[9]||(a[9]=(0,e.Lk)("div",{class:"market-card bull"},[(0,e.Lk)("div",{class:"market-icon"},"📈"),(0,e.Lk)("div",{class:"market-label"},"상승장"),(0,e.Lk)("div",{class:"market-desc"},"적극적 매수 전략")],-1))]),(0,e.Lk)("label",z,[(0,e.bo)((0,e.Lk)("input",{type:"radio","onUpdate:modelValue":a[1]||(a[1]=t=>i.strategy.marketType=t),value:"bear",class:"market-radio"},null,512),[[B.XL,i.strategy.marketType]]),a[10]||(a[10]=(0,e.Lk)("div",{class:"market-card bear"},[(0,e.Lk)("div",{class:"market-icon"},"📉"),(0,e.Lk)("div",{class:"market-label"},"하락장"),(0,e.Lk)("div",{class:"market-desc"},"보수적 매수 전략")],-1))])])]),t.bestStrategy?((0,e.uX)(),(0,e.CE)("div",F,[(0,e.Lk)("div",W,[a[12]||(a[12]=(0,e.Lk)("span",{class:"strategy-badge"},"추천 전략",-1)),(0,e.Lk)("span",M," 예상 수익률: "+(0,c.v_)(t.bestStrategy.expectedReturn)+"% ",1)]),(0,e.Lk)("div",N,[(0,e.Lk)("p",null,[(0,e.Lk)("strong",null,(0,c.v_)(t.bestStrategy.stockName),1),(0,e.eW)(" ("+(0,c.v_)(t.bestStrategy.stockCode)+")",1)]),(0,e.Lk)("p",null,"추천 비율: "+(0,c.v_)(t.bestStrategy.allocation)+"%",1),(0,e.Lk)("p",null,"위험 수준: "+(0,c.v_)(r.getRiskLevelText(t.bestStrategy.riskLevel)),1)]),(0,e.Lk)("button",{onClick:a[2]||(a[2]=(...t)=>r.applyBestStrategy&&r.applyBestStrategy(...t)),class:"btn btn-sm btn-outline"}," 이 전략 적용 ")])):(0,e.Q3)("",!0),(0,e.Lk)("div",O,[a[13]||(a[13]=(0,e.Lk)("label",{class:"form-label"},"종목 코드",-1)),(0,e.bo)((0,e.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>i.strategy.stockCode=t),placeholder:"예: 005930 (삼성전자)",class:"form-input",onInput:a[4]||(a[4]=(...t)=>r.validateStockCode&&r.validateStockCode(...t))},null,544),[[B.Jo,i.strategy.stockCode]]),i.stockCodeError?((0,e.uX)(),(0,e.CE)("div",R,(0,c.v_)(i.stockCodeError),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("div",J,[a[15]||(a[15]=(0,e.Lk)("label",{class:"form-label"},"투자 비율 (%)",-1)),(0,e.Lk)("div",H,[(0,e.bo)((0,e.Lk)("input",{type:"range","onUpdate:modelValue":a[5]||(a[5]=t=>i.strategy.allocation=t),min:"1",max:"100",class:"allocation-slider"},null,512),[[B.Jo,i.strategy.allocation]]),(0,e.bo)((0,e.Lk)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=t=>i.strategy.allocation=t),min:"1",max:"100",class:"allocation-number"},null,512),[[B.Jo,i.strategy.allocation]]),a[14]||(a[14]=(0,e.Lk)("span",{class:"allocation-unit"},"%",-1))]),(0,e.Lk)("div",K," 현재 설정: "+(0,c.v_)(i.strategy.allocation)+"% ",1)])]),(0,e.Lk)("div",P,[(0,e.Lk)("div",G,[(0,e.Lk)("div",Y,[t.isTrading?((0,e.uX)(),(0,e.CE)("span",$,a[16]||(a[16]=[(0,e.Lk)("span",{class:"status-dot"},null,-1),(0,e.eW)(" 자동매매 실행 중 ",-1)]))):((0,e.uX)(),(0,e.CE)("span",j,a[17]||(a[17]=[(0,e.Lk)("span",{class:"status-dot"},null,-1),(0,e.eW)(" 자동매매 대기 중 ",-1)])))]),(0,e.Lk)("div",Z,[t.isTrading?(0,e.Q3)("",!0):((0,e.uX)(),(0,e.CE)("button",{key:0,onClick:a[7]||(a[7]=(...t)=>r.startTrading&&r.startTrading(...t)),disabled:!r.isValidStrategy||r.loading,class:"btn btn-success"},[r.loading?((0,e.uX)(),(0,e.CE)("span",at)):(0,e.Q3)("",!0),a[18]||(a[18]=(0,e.eW)(" 자동매매 시작 ",-1))],8,tt)),t.isTrading?((0,e.uX)(),(0,e.CE)("button",{key:1,onClick:a[8]||(a[8]=(...t)=>r.stopTrading&&r.stopTrading(...t)),disabled:r.loading,class:"btn btn-danger"},[r.loading?((0,e.uX)(),(0,e.CE)("span",et)):(0,e.Q3)("",!0),a[19]||(a[19]=(0,e.eW)(" 자동매매 종료 ",-1))],8,st)):(0,e.Q3)("",!0)])])])])])}var lt={name:"TradingStrategy",data(){return{strategy:{marketType:"bull",stockCode:"",allocation:30},stockCodeError:null}},computed:{...(0,A.L8)("trading",["bestStrategy","isTrading","isLoading","currentStrategy"]),loading(){return this.isLoading},isValidStrategy(){return this.strategy.marketType&&this.strategy.stockCode&&this.strategy.allocation>0&&this.strategy.allocation<=100&&!this.stockCodeError}},async created(){await this.loadBestStrategy(),await this.loadTradingStatus(),this.currentStrategy&&(this.strategy={marketType:this.currentStrategy.marketType,stockCode:this.currentStrategy.stockCode,allocation:this.currentStrategy.allocation})},methods:{...(0,A.i0)("trading",["loadBestStrategy","loadTradingStatus","createStrategy","startTrading as startTradingAction","stopTrading as stopTradingAction"]),applyBestStrategy(){this.bestStrategy&&(this.strategy={marketType:this.bestStrategy.marketType,stockCode:this.bestStrategy.stockCode,allocation:this.bestStrategy.allocation},this.stockCodeError=null)},validateStockCode(){const t=this.strategy.stockCode.trim();if(!t)return void(this.stockCodeError=null);const a=/^\d{6}$/;a.test(t)?this.stockCodeError=null:this.stockCodeError="올바른 종목 코드를 입력해주세요 (6자리 숫자)"},async startTrading(){try{const t=await this.createStrategy(this.strategy);if(t){const t=this.currentStrategy;t&&await this.startTradingAction(t.id)}}catch(t){console.error("자동매매 시작 오류:",t)}},async stopTrading(){try{await this.stopTradingAction()}catch(t){console.error("자동매매 중단 오류:",t)}},getRiskLevelText(t){const a={Low:"낮음",Medium:"보통",High:"높음"};return a[t]||t}}},it=s(1241);const rt=(0,it.A)(lt,[["render",ct],["__scopeId","data-v-07cdec10"]]);var dt=rt,ot={name:"TradingPage",components:{TradingStrategy:dt},data(){return{recentOrders:[],hasOrders:!1}},computed:{...(0,A.L8)("trading",["isTrading","currentStrategy","isLoading"])},async created(){await this.loadTradingStatus()},methods:{...(0,A.i0)("trading",["loadTradingStatus"]),formatDateTime(t){if(!t)return"-";try{const a=new Date(t);return a.toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(a){return t}},getStatusText(t){const a={SUCCESS:"성공",FAILED:"실패",PENDING:"대기",CANCELLED:"취소"};return a[t]||t}}};const nt=(0,it.A)(ot,[["render",x],["__scopeId","data-v-ccc49be0"]]);var vt=nt}}]);
//# sourceMappingURL=214.adff1df6.js.map