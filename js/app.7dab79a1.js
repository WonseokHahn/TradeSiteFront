(function(){"use strict";var e={2165:function(e,s,t){var a=t(5130),i=t(6768);const o={id:"app"},n={class:"main-content"};function r(e,s,t,a,r,l){const c=(0,i.g2)("Header"),d=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(c),(0,i.Lk)("main",n,[(0,i.bF)(d)])])}var l=t(4232);const c={class:"header"},d={class:"container"},u={class:"header-content"},h={class:"header-logo"},k={class:"header-nav"},v={class:"header-user"},m={key:0,class:"user-menu"},g={class:"dropdown"},p=["src","alt"],L={key:1,class:"user-avatar-placeholder"},f={class:"user-name"},y={key:0,class:"dropdown-menu"},b={key:1,class:"auth-buttons"};function C(e,s,t,a,o,n){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("header",c,[(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[(0,i.Lk)("div",h,[(0,i.bF)(r,{to:"/",class:"logo-link"},{default:(0,i.k6)(()=>s[2]||(s[2]=[(0,i.Lk)("h1",{class:"logo-text"},"자유놀이터",-1)])),_:1,__:[2]})]),(0,i.Lk)("nav",k,[(0,i.bF)(r,{to:"/",class:"nav-link"},{default:(0,i.k6)(()=>s[3]||(s[3]=[(0,i.eW)("홈",-1)])),_:1,__:[3]}),e.isAuthenticated?((0,i.uX)(),(0,i.Wv)(r,{key:0,to:"/trading",class:"nav-link"},{default:(0,i.k6)(()=>s[4]||(s[4]=[(0,i.eW)(" 자동매매 ",-1)])),_:1,__:[4]})):(0,i.Q3)("",!0)]),(0,i.Lk)("div",v,[e.isAuthenticated?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("div",g,[(0,i.Lk)("button",{class:"dropdown-toggle user-toggle",onClick:s[0]||(s[0]=(...e)=>n.toggleUserMenu&&n.toggleUserMenu(...e))},[e.userAvatar?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.userAvatar,alt:e.userName,class:"user-avatar"},null,8,p)):((0,i.uX)(),(0,i.CE)("div",L,(0,l.v_)(e.userName.charAt(0).toUpperCase()),1)),(0,i.Lk)("span",f,(0,l.v_)(e.userName),1),s[5]||(s[5]=(0,i.Lk)("svg",{class:"dropdown-arrow",width:"12",height:"12",viewBox:"0 0 12 12"},[(0,i.Lk)("path",{d:"M6 8L2 4h8L6 8z",fill:"currentColor"})],-1))]),o.showUserMenu?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.bF)(r,{to:"/trading",class:"dropdown-item"},{default:(0,i.k6)(()=>s[6]||(s[6]=[(0,i.eW)(" 자동매매 관리 ",-1)])),_:1,__:[6]}),s[7]||(s[7]=(0,i.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,i.Lk)("button",{onClick:s[1]||(s[1]=(...e)=>n.handleLogout&&n.handleLogout(...e)),class:"dropdown-item"}," 로그아웃 ")])):(0,i.Q3)("",!0)])])):((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(r,{to:"/login",class:"custom-login-button"},{default:(0,i.k6)(()=>s[8]||(s[8]=[(0,i.eW)(" 로그인 ",-1)])),_:1,__:[8]})]))])])])])}t(4114);var w=t(782),S={name:"HeaderView",data(){return{showUserMenu:!1}},computed:{...(0,w.L8)("auth",["isAuthenticated","userName","userAvatar"])},methods:{...(0,w.i0)("auth",["logout"]),toggleUserMenu(){this.showUserMenu=!this.showUserMenu},async handleLogout(){this.showUserMenu=!1,await this.logout(),this.$router.push("/")},handleClickOutside(e){this.$el.contains(e.target)||(this.showUserMenu=!1)}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}},_=t(1241);const A=(0,_.A)(S,[["render",C],["__scopeId","data-v-457bcd26"]]);var E=A,I={name:"App",components:{Header:E},async created(){const e=localStorage.getItem("token");e&&await this.loadUserProfile()},methods:{...(0,w.i0)("auth",["loadUserProfile"])}};const R=(0,_.A)(I,[["render",r]]);var T=R,X=t(1387),O=t(4373);const $="https://tradesiteback.onrender.com/api";console.log("🌐 API Base URL:",$);const M=O.A.create({baseURL:$,timeout:3e4,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(e=>{const s=localStorage.getItem("token");return console.log("🔍 API 요청 시작:",e.method?.toUpperCase(),e.url),console.log("🔑 토큰 상태:",s?`토큰 있음 (${s.substring(0,20)}...)`:"토큰 없음"),s?(e.headers["Authorization"]=`Bearer ${s}`,console.log("✅ Authorization 헤더 추가됨")):console.log("⚠️ 토큰이 없어서 Authorization 헤더 추가 안됨"),e},e=>(console.error("❌ API 요청 에러:",e),Promise.reject(e))),M.interceptors.response.use(e=>(console.log(`✅ API 응답 성공: ${e.status} ${e.config.url}`),e),e=>(console.error("❌ API 응답 에러:",e),console.error("❌ 응답 상태:",e.response?.status),console.error("❌ 응답 데이터:",e.response?.data),401===e.response?.status&&(console.log("🔑 토큰 만료 - 로그아웃 처리"),localStorage.removeItem("token"),"/login"!==window.location.pathname&&(window.location.href="/login")),Promise.reject(e)));var K=M,P=t(7411);const U={user:null,token:localStorage.getItem("token")||null,isAuthenticated:!1},x={SET_USER(e,s){e.user=s,e.isAuthenticated=!!s},SET_TOKEN(e,s){e.token=s,s?localStorage.setItem("token",s):localStorage.removeItem("token")},LOGOUT(e){e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")}},F={async loadUserProfile({commit:e,state:s}){try{if(!s.token)return;console.log("👤 사용자 프로필 로딩 중...");const t=await K.get("/auth/profile");t.data.success?(e("SET_USER",t.data.user),console.log("✅ 사용자 프로필 로드 성공:",t.data.user.email)):(console.log("⚠️ 유효하지 않은 토큰 - 로그아웃 처리"),e("LOGOUT"))}catch(t){console.error("❌ 프로필 로드 실패:",t),e("LOGOUT")}},async loginWithToken({commit:e,dispatch:s},t){try{console.log("🔑 토큰으로 로그인 처리 중..."),e("SET_TOKEN",t),await s("loadUserProfile");const a=(0,P.dj)();return a.success("로그인되었습니다!"),!0}catch(a){console.error("❌ 토큰 로그인 실패:",a),e("LOGOUT");const s=(0,P.dj)();return s.error("로그인에 실패했습니다."),!1}},async logout({commit:e}){try{console.log("👋 로그아웃 처리 중..."),await K.post("/auth/logout")}catch(s){console.error("❌ 로그아웃 API 호출 실패:",s)}finally{e("LOGOUT");const s=(0,P.dj)();s.success("로그아웃되었습니다.")}},getGoogleLoginUrl(){const e="https://tradesiteback.onrender.com/api"?.replace("/api","")||0;return`${e}/api/auth/google`},getKakaoLoginUrl(){const e="https://tradesiteback.onrender.com/api"?.replace("/api","")||0;return`${e}/api/auth/kakao`}},D={isAuthenticated:e=>e.isAuthenticated,user:e=>e.user,token:e=>e.token,userName:e=>e.user?.name||"",userAvatar:e=>e.user?.avatar||""};var W={namespaced:!0,state:U,mutations:x,actions:F,getters:D};const N={articles:[],loading:!1,searchKeyword:""},H={SET_ARTICLES(e,s){e.articles=s},SET_LOADING(e,s){e.loading=s},SET_SEARCH_KEYWORD(e,s){e.searchKeyword=s},CLEAR_ARTICLES(e){e.articles=[],e.searchKeyword=""}},q={async searchNews({commit:e},s){if(!s||""===s.trim()){const e=(0,P.dj)();return void e.warning("검색 키워드를 입력해주세요.")}e("SET_LOADING",!0),e("SET_SEARCH_KEYWORD",s);try{const t=await K.get("/news/search",{params:{keyword:s.trim()}});if(!t.data.success)throw new Error(t.data.message||"뉴스 검색에 실패했습니다.");if(e("SET_ARTICLES",t.data.data),0===t.data.data.length){const e=(0,P.dj)();e.info("검색 결과가 없습니다.")}}catch(t){console.error("뉴스 검색 오류:",t),e("SET_ARTICLES",[]);const s=(0,P.dj)();s.error(t.response?.data?.message||"뉴스 검색 중 오류가 발생했습니다.")}finally{e("SET_LOADING",!1)}},clearNews({commit:e}){e("CLEAR_ARTICLES")}},j={articles:e=>e.articles,isLoading:e=>e.loading,searchKeyword:e=>e.searchKeyword,hasArticles:e=>e.articles.length>0};var B={namespaced:!0,state:N,mutations:H,actions:q,getters:j},Q=(0,w.y$)({modules:{auth:W,news:B},state:{loading:!1,error:null},mutations:{SET_LOADING(e,s){e.loading=s},SET_ERROR(e,s){e.error=s},CLEAR_ERROR(e){e.error=null}},actions:{setLoading({commit:e},s){e("SET_LOADING",s)},setError({commit:e},s){e("SET_ERROR",s)},clearError({commit:e}){e("CLEAR_ERROR")}},getters:{isLoading:e=>e.loading,hasError:e=>!!e.error,error:e=>e.error}});const z={class:"home"},G={class:"hero"},V={class:"container"},Y={class:"hero-content"},J={class:"search-section"},Z={class:"search-container"},ee={class:"search-input-group"},se=["disabled"],te={key:0,class:"loading-spinner"},ae={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},ie={class:"search-suggestions"},oe=["onClick"],ne={key:0,class:"news-results"},re={class:"container"},le={class:"results-header"},ce={class:"results-title"},de={key:0},ue={key:1},he={class:"results-meta"},ke={key:0,class:"results-count"},ve={key:0,class:"loading-state"},me={key:1,class:"no-results"},ge={key:2,class:"news-grid"},pe={key:1,class:"features"},Le={key:2,class:"cta"};function fe(e,s,t,o,n,r){const c=(0,i.g2)("NewsCard");return(0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("section",G,[(0,i.Lk)("div",V,[(0,i.Lk)("div",Y,[s[7]||(s[7]=(0,i.Lk)("h1",{class:"hero-title"}," AI 기반 놀이터 ",-1)),s[8]||(s[8]=(0,i.Lk)("p",{class:"hero-subtitle"}," 실시간 뉴스 분석과 AI 요약 주식 자동화 ",-1)),(0,i.Lk)("div",J,[(0,i.Lk)("div",Z,[(0,i.Lk)("div",ee,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.searchKeyword=e),onKeypress:s[1]||(s[1]=(0,a.jR)((...e)=>r.handleSearch&&r.handleSearch(...e),["enter"])),placeholder:"종목명 또는 키워드를 입력하세요 (예: 삼성전자, AI, 전기차)",class:"search-input"},null,544),[[a.Jo,n.searchKeyword]]),(0,i.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>r.handleSearch&&r.handleSearch(...e)),disabled:r.isSearching||!n.searchKeyword.trim(),class:"search-button"},[r.isSearching?((0,i.uX)(),(0,i.CE)("span",te)):((0,i.uX)(),(0,i.CE)("svg",ae,s[4]||(s[4]=[(0,i.Lk)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},null,-1)]))),s[5]||(s[5]=(0,i.eW)(" 검색 ",-1))],8,se)]),(0,i.Lk)("div",ie,[s[6]||(s[6]=(0,i.Lk)("span",{class:"suggestion-label"},"인기 검색어:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.popularKeywords,e=>((0,i.uX)(),(0,i.CE)("button",{key:e,onClick:s=>r.searchByKeyword(e),class:"suggestion-tag"},(0,l.v_)(e),9,oe))),128))])])])])])]),n.hasSearched?((0,i.uX)(),(0,i.CE)("section",ne,[(0,i.Lk)("div",re,[(0,i.Lk)("div",le,[(0,i.Lk)("h2",ce,[n.searchKeyword?((0,i.uX)(),(0,i.CE)("span",de,'"'+(0,l.v_)(n.searchKeyword)+'" 검색 결과',1)):((0,i.uX)(),(0,i.CE)("span",ue,"뉴스 검색 결과"))]),(0,i.Lk)("div",he,[!r.isSearching&&e.hasArticles?((0,i.uX)(),(0,i.CE)("span",ke," 총 "+(0,l.v_)(e.articles.length)+"개의 기사 ",1)):(0,i.Q3)("",!0),e.hasArticles?((0,i.uX)(),(0,i.CE)("button",{key:1,onClick:s[3]||(s[3]=(...e)=>r.clearResults&&r.clearResults(...e)),class:"btn btn-sm btn-outline"}," 검색 초기화 ")):(0,i.Q3)("",!0)])]),r.isSearching?((0,i.uX)(),(0,i.CE)("div",ve,s[9]||(s[9]=[(0,i.Lk)("div",{class:"loading-spinner-large"},null,-1),(0,i.Lk)("p",null,"뉴스를 검색하고 AI 요약을 생성하는 중...",-1)]))):!e.hasArticles&&n.hasSearched?((0,i.uX)(),(0,i.CE)("div",me,s[10]||(s[10]=[(0,i.Lk)("div",{class:"no-results-icon"},"📰",-1),(0,i.Lk)("h3",null,"검색 결과가 없습니다",-1),(0,i.Lk)("p",null,"다른 키워드로 검색해보세요",-1)]))):e.hasArticles?((0,i.uX)(),(0,i.CE)("div",ge,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.articles,(e,s)=>((0,i.uX)(),(0,i.Wv)(c,{key:s,article:e},null,8,["article"]))),128))])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),n.hasSearched?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("section",pe,s[11]||(s[11]=[(0,i.Fv)('<div class="container" data-v-89f452d6><h2 class="section-title" data-v-89f452d6>주요 기능</h2><div class="features-grid" data-v-89f452d6><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>🔍</div><h3 class="feature-title" data-v-89f452d6>실시간 뉴스 검색</h3><p class="feature-description" data-v-89f452d6> 네이버 뉴스에서 실시간으로 관련 뉴스를 검색하고 최신 정보를 제공합니다. </p></div><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>🤖</div><h3 class="feature-title" data-v-89f452d6>AI 뉴스 요약</h3><p class="feature-description" data-v-89f452d6> GPT를 활용하여 복잡한 뉴스 내용을 간결하고 이해하기 쉽게 요약합니다. </p></div><div class="feature-card" data-v-89f452d6><div class="feature-icon" data-v-89f452d6>📈</div><h3 class="feature-title" data-v-89f452d6>자동매매 시스템</h3><p class="feature-description" data-v-89f452d6> 로그인 후 AI 기반 자동매매 전략을 설정하고 실행할 수 있습니다. </p></div></div></div>',1)]))),e.isAuthenticated||n.hasSearched?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("section",Le,s[12]||(s[12]=[(0,i.Lk)("div",{class:"container"},[(0,i.Lk)("div",{class:"cta-content"},[(0,i.Lk)("h2",{class:"cta-title"},"지금 시작하세요"),(0,i.Lk)("p",{class:"cta-description"}," 로그인하고 AI 기반 자동매매 서비스를 이용해보세요 ")])],-1)])))])}const ye={class:"news-card"},be={class:"news-header"},Ce={class:"news-title"},we=["href"],Se={class:"news-meta"},_e={class:"news-source"},Ae={class:"news-date"},Ee={class:"news-body"},Ie={class:"news-description"},Re={class:"news-summary"},Te={class:"summary-text"};function Xe(e,s,t,a,o,n){return(0,i.uX)(),(0,i.CE)("div",ye,[(0,i.Lk)("div",be,[(0,i.Lk)("h3",Ce,[(0,i.Lk)("a",{href:t.article.link,target:"_blank",rel:"noopener noreferrer",class:"news-link"},(0,l.v_)(t.article.title),9,we)]),(0,i.Lk)("div",Se,[(0,i.Lk)("span",_e,(0,l.v_)(t.article.source),1),(0,i.Lk)("span",Ae,(0,l.v_)(n.formatDate(t.article.publishedAt)),1)])]),(0,i.Lk)("div",Ee,[(0,i.Lk)("p",Ie,(0,l.v_)(t.article.description),1),(0,i.Lk)("div",Re,[s[0]||(s[0]=(0,i.Lk)("div",{class:"summary-header"},[(0,i.Lk)("span",{class:"summary-label"},[(0,i.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[(0,i.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]),(0,i.eW)(" AI 요약 ")])],-1)),(0,i.Lk)("p",Te,(0,l.v_)(t.article.summary),1)])])])}var Oe={name:"NewsCard",props:{article:{type:Object,required:!0}},data(){return{isExpanded:!1}},methods:{toggleExpanded(){this.isExpanded=!this.isExpanded},formatDate(e){if(!e)return"";try{const s=new Date(e),t=new Date,a=t-s,i=Math.floor(a/6e4),o=Math.floor(i/60),n=Math.floor(o/24);return i<1?"방금 전":i<60?`${i}분 전`:o<24?`${o}시간 전`:n<7?`${n}일 전`:s.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})}catch(s){return e}}}};const $e=(0,_.A)(Oe,[["render",Xe],["__scopeId","data-v-50d9ccd5"]]);var Me=$e,Ke={name:"HomePage",components:{NewsCard:Me},data(){return{searchKeyword:"",hasSearched:!1,popularKeywords:["삼성전자","양자컴퓨터","전기차","반도체","트럼프","테슬라","비트코인"]}},computed:{...(0,w.L8)("auth",["isAuthenticated"]),...(0,w.L8)("news",["articles","isLoading","hasArticles"]),isSearching(){return this.isLoading}},methods:{...(0,w.i0)("news",["searchNews","clearNews"]),async handleSearch(){this.searchKeyword.trim()&&(this.hasSearched=!0,await this.searchNews(this.searchKeyword.trim()))},async searchByKeyword(e){this.searchKeyword=e,await this.handleSearch()},clearResults(){this.hasSearched=!1,this.searchKeyword="",this.clearNews()}}};const Pe=(0,_.A)(Ke,[["render",fe],["__scopeId","data-v-89f452d6"]]);var Ue=Pe;const xe={class:"login"},Fe={class:"login-container"},De={class:"login-card"},We={class:"login-body"},Ne={key:0,class:"alert alert-error"},He={class:"social-login"};function qe(e,s,t,a,o,n){return(0,i.uX)(),(0,i.CE)("div",xe,[(0,i.Lk)("div",Fe,[(0,i.Lk)("div",De,[s[5]||(s[5]=(0,i.Lk)("div",{class:"login-header"},[(0,i.Lk)("h1",{class:"login-title"},"로그인"),(0,i.Lk)("p",{class:"login-subtitle"}," 소셜 계정으로 간편하게 로그인하세요 ")],-1)),(0,i.Lk)("div",We,[o.errorMessage?((0,i.uX)(),(0,i.CE)("div",Ne,(0,l.v_)(o.errorMessage),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",He,[(0,i.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>n.loginWithGoogle&&n.loginWithGoogle(...e)),class:"social-button google"},s[2]||(s[2]=[(0,i.Fv)('<svg class="social-icon" viewBox="0 0 24 24" data-v-2d36d908><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-2d36d908></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-2d36d908></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-2d36d908></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-2d36d908></path></svg> Google로 로그인 ',2)])),(0,i.Lk)("button",{onClick:s[1]||(s[1]=(...e)=>n.loginWithKakao&&n.loginWithKakao(...e)),class:"social-button kakao"},s[3]||(s[3]=[(0,i.Lk)("svg",{class:"social-icon",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{fill:"#000000",d:"M12 3c5.799 0 10.5 3.664 10.5 8.185 0 4.52-4.701 8.184-10.5 8.184a13.5 13.5 0 0 1-1.727-.11l-4.408 2.883c-.501.265-.678.236-.472-.413l.518-3.467C3.462 16.4 1.5 14.376 1.5 11.185 1.5 6.665 6.201 3 12 3z"})],-1),(0,i.eW)(" 카카오로 로그인 ",-1)]))]),s[4]||(s[4]=(0,i.Lk)("div",{class:"service-info"},[(0,i.Lk)("h3",{class:"info-title"},"로그인 후 이용 가능한 서비스"),(0,i.Lk)("ul",{class:"info-list"},[(0,i.Lk)("li",null,"AI 기반 자동매매 전략 설정"),(0,i.Lk)("li",null,"실시간 주식 자동매매 실행"),(0,i.Lk)("li",null,"개인화된 투자 포트폴리오 관리"),(0,i.Lk)("li",null,"매매 내역 및 수익률 분석")])],-1))]),s[6]||(s[6]=(0,i.Lk)("div",{class:"login-footer"},[(0,i.Lk)("p",{class:"footer-text"},[(0,i.eW)(" 로그인하면 "),(0,i.Lk)("a",{href:"#",class:"footer-link"},"서비스 이용약관"),(0,i.eW)("과 "),(0,i.Lk)("a",{href:"#",class:"footer-link"},"개인정보처리방침"),(0,i.eW)("에 동의하는 것으로 간주됩니다. ")])],-1))])])])}t(4979);const je=e=>{const s="https://tradesiteback.onrender.com/api";"google"===e?window.location.href=`${s}/auth/google`:"kakao"===e&&(window.location.href=`${s}/auth/kakao`)};var Be={name:"LoginPage",data(){return{errorMessage:null}},created(){const e=this.$route.query.error;"auth_failed"===e&&(this.errorMessage="로그인에 실패했습니다. 다시 시도해주세요.")},methods:{...(0,w.i0)("auth",["loginWithToken"]),loginWithGoogle(){this.clearError(),je("google")},loginWithKakao(){this.clearError(),je("kakao")},clearError(){this.errorMessage=null}}};const Qe=(0,_.A)(Be,[["render",qe],["__scopeId","data-v-2d36d908"]]);var ze=Qe;const Ge={class:"auth-callback"},Ve={class:"callback-container"},Ye={class:"callback-content"},Je={class:"callback-title"},Ze={class:"callback-message"},es={key:0,class:"debug-info"};function ss(e,s,t,a,o,n){return(0,i.uX)(),(0,i.CE)("div",Ge,[(0,i.Lk)("div",Ve,[(0,i.Lk)("div",Ye,[s[1]||(s[1]=(0,i.Lk)("div",{class:"loading-spinner-large"},null,-1)),(0,i.Lk)("h2",Je,(0,l.v_)(o.title),1),(0,i.Lk)("p",Ze,(0,l.v_)(o.message),1),o.showDebug?((0,i.uX)(),(0,i.CE)("div",es,[s[0]||(s[0]=(0,i.Lk)("h4",null,"디버그 정보:",-1)),(0,i.Lk)("pre",null,(0,l.v_)(o.debugInfo),1)])):(0,i.Q3)("",!0)])])])}t(4603),t(7566),t(8721);var ts={name:"AuthCallback",data(){return{title:"로그인 처리 중...",message:"잠시만 기다려주세요.",showDebug:!1,debugInfo:{}}},async mounted(){console.log("🎬 AuthCallback 컴포넌트 마운트됨"),await this.handleAuthCallback()},methods:{...(0,w.i0)("auth",["loginWithToken"]),async handleAuthCallback(){try{console.log("🔄 OAuth 콜백 처리 시작");const e=new URLSearchParams(window.location.search),s=e.get("token")||this.$route.query.token,t=e.get("provider")||this.$route.query.provider,a=e.get("name")||this.$route.query.name,i=e.get("error")||this.$route.query.error;if(this.debugInfo={url:window.location.href,queryParams:this.$route.query,urlParams:Object.fromEntries(e),token:s?s.substring(0,20)+"...":"null",provider:t,name:"미연동 계정"===a?"한원석":a?decodeURIComponent(a):"null",error:i},i)throw new Error(`OAuth 오류: ${i}`);if(!s)throw this.showDebug=!0,new Error("토큰이 없습니다. URL 파라미터를 확인해주세요.");console.log("🔐 OAuth 제공자:",t),console.log("👤 사용자 이름:",decodeURIComponent(a||"")),this.message="토큰을 처리하고 있습니다...";const o=await this.loginWithToken(s);if(!o)throw new Error("토큰 처리에 실패했습니다.");console.log("✅ 로그인 성공! 홈으로 이동"),this.title="로그인 완료!",this.message="홈페이지로 이동합니다...",setTimeout(()=>{this.$router.replace("/")},2e3)}catch(e){console.error("❌ Auth callback 오류:",e),this.title="로그인 오류",this.message=`오류: ${e.message}`,this.showDebug=!0,setTimeout(()=>{this.$router.replace({name:"Login",query:{error:"callback_failed"}})},5e3)}}}};const as=(0,_.A)(ts,[["render",ss],["__scopeId","data-v-6e08d704"]]);var is=as;t(8111),t(3579);const os={class:"trading-page"},ns={class:"container"},rs={class:"account-dashboard"},ls={class:"dashboard-grid"},cs={class:"dashboard-card total-assets"},ds={class:"card-content"},us={class:"amount"},hs={class:"dashboard-card available-cash"},ks={class:"card-content"},vs={class:"amount"},ms={class:"dashboard-card active-sessions"},gs={class:"card-content"},ps={class:"amount"},Ls={class:"dashboard-card today-profit"},fs={class:"card-content"},ys={key:0,class:"trading-setup"},bs={class:"setup-card"},Cs={class:"card-body"},ws={class:"setup-steps"},Ss={class:"step-section"},_s={class:"market-selection"},As={class:"step-section"},Es={class:"strategy-selection"},Is=["onClick"],Rs={class:"strategy-header"},Ts={class:"strategy-icon"},Xs={class:"strategy-description"},Os={class:"strategy-features"},$s={class:"feature-item"},Ms={class:"feature-value"},Ks={class:"feature-item"},Ps={class:"feature-value"},Us={class:"step-section"},xs={class:"step-header"},Fs=["disabled"],Ds={key:0,class:"loading-spinner"},Ws={key:0,class:"loading-state"},Ns={key:1,class:"recommendations-grid"},Hs=["onClick"],qs={class:"stock-header"},js={class:"stock-info"},Bs={class:"stock-symbol"},Qs={class:"stock-sector"},zs={class:"stock-price"},Gs={class:"current-price"},Vs={class:"stock-reason"},Ys={class:"stock-metrics"},Js={class:"metric-item"},Zs={class:"metric-value"},et={class:"metric-item"},st={class:"metric-item"},tt={class:"metric-value"},at={class:"selection-indicator"},it={key:0,class:"selected-badge"},ot={class:"step-section"},nt={class:"investment-settings"},rt={class:"amount-input-group"},lt={class:"amount-input-container"},ct=["max"],dt={class:"currency-suffix"},ut={class:"amount-suggestions"},ht=["onClick"],kt={class:"available-info"},vt={class:"risk-level-selection"},mt={class:"risk-options"},gt=["onClick"],pt={class:"risk-icon"},Lt={class:"risk-content"},ft={class:"start-section"},yt={class:"start-summary"},bt={class:"summary-grid"},Ct={class:"summary-item"},wt={class:"value"},St={class:"summary-item"},_t={class:"value"},At={class:"summary-item"},Et={class:"value"},It={class:"summary-item"},Rt={class:"value"},Tt=["disabled"],Xt={key:0,class:"loading-spinner"},Ot={key:1,class:"active-sessions"},$t={class:"section-header"},Mt={class:"session-count"},Kt={class:"sessions-grid"},Pt={class:"session-header"},Ut={class:"session-info"},xt={class:"session-meta"},Ft={class:"session-duration"},Dt=["onClick","disabled"],Wt={class:"session-stats"},Nt={class:"stat-item"},Ht={class:"stat-value"},qt={class:"stat-item"},jt={class:"stat-value"},Bt={class:"stat-item"},Qt={class:"stat-value"},zt={class:"stat-item"},Gt={class:"trading-history"},Vt={class:"section-header"},Yt={key:0,class:"empty-history"},Jt={key:1,class:"history-table"},Zt={class:"table-body"},ea={class:"td"},sa={class:"td"},ta={class:"stock-info"},aa={class:"stock-name"},ia={class:"td"},oa={class:"td"},na={class:"td"},ra={class:"td"},la={key:1};function ca(e,s,t,o,n,r){return(0,i.uX)(),(0,i.CE)("div",os,[(0,i.Lk)("div",ns,[s[47]||(s[47]=(0,i.Lk)("div",{class:"page-header"},[(0,i.Lk)("h1",{class:"page-title"},"AI 기반 자동매매"),(0,i.Lk)("p",{class:"page-subtitle"}," 전문가 수준의 매매 전략으로 스마트한 투자를 시작하세요 ")],-1)),(0,i.Lk)("div",rs,[(0,i.Lk)("div",ls,[(0,i.Lk)("div",cs,[s[7]||(s[7]=(0,i.Lk)("div",{class:"card-icon"},"💰",-1)),(0,i.Lk)("div",ds,[s[6]||(s[6]=(0,i.Lk)("h3",null,"총 자산",-1)),(0,i.Lk)("p",us,(0,l.v_)(r.formatCurrency(n.accountInfo.totalAssets)),1),(0,i.Lk)("span",{class:(0,l.C4)(["change",n.accountInfo.profitClass])},(0,l.v_)(n.accountInfo.profitText),3)])]),(0,i.Lk)("div",hs,[s[10]||(s[10]=(0,i.Lk)("div",{class:"card-icon"},"💳",-1)),(0,i.Lk)("div",ks,[s[8]||(s[8]=(0,i.Lk)("h3",null,"투자 가능 금액",-1)),(0,i.Lk)("p",vs,(0,l.v_)(r.formatCurrency(n.accountInfo.availableCash)),1),s[9]||(s[9]=(0,i.Lk)("span",{class:"subtitle"},"즉시 투자 가능",-1))])]),(0,i.Lk)("div",ms,[s[13]||(s[13]=(0,i.Lk)("div",{class:"card-icon"},"🤖",-1)),(0,i.Lk)("div",gs,[s[11]||(s[11]=(0,i.Lk)("h3",null,"활성 자동매매",-1)),(0,i.Lk)("p",ps,(0,l.v_)(n.activeSessions.length)+"개",1),s[12]||(s[12]=(0,i.Lk)("span",{class:"subtitle"},"실행 중인 전략",-1))])]),(0,i.Lk)("div",Ls,[s[16]||(s[16]=(0,i.Lk)("div",{class:"card-icon"},"📈",-1)),(0,i.Lk)("div",fs,[s[14]||(s[14]=(0,i.Lk)("h3",null,"오늘 수익",-1)),(0,i.Lk)("p",{class:(0,l.C4)(["amount",r.todayProfitClass])},(0,l.v_)(r.formatCurrency(n.todayProfit)),3),s[15]||(s[15]=(0,i.Lk)("span",{class:"subtitle"},"자동매매 수익",-1))])])])]),r.isAnySessionActive?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",ys,[(0,i.Lk)("div",bs,[s[38]||(s[38]=(0,i.Lk)("div",{class:"card-header"},[(0,i.Lk)("h2",null,"새 자동매매 시작"),(0,i.Lk)("p",null,"AI가 추천하는 종목과 전략으로 자동매매를 설정하세요")],-1)),(0,i.Lk)("div",Cs,[(0,i.Lk)("div",ws,[(0,i.Lk)("div",Ss,[s[19]||(s[19]=(0,i.Lk)("div",{class:"step-header"},[(0,i.Lk)("span",{class:"step-number"},"1"),(0,i.Lk)("h3",null,"투자 시장 선택")],-1)),(0,i.Lk)("div",_s,[(0,i.Lk)("div",{class:(0,l.C4)(["market-option",{active:"domestic"===n.selectedMarket}]),onClick:s[0]||(s[0]=e=>n.selectedMarket="domestic")},s[17]||(s[17]=[(0,i.Lk)("div",{class:"option-icon"},"🇰🇷",-1),(0,i.Lk)("h4",null,"국내 주식",-1),(0,i.Lk)("p",null,"KOSPI, KOSDAQ",-1),(0,i.Lk)("ul",{class:"option-features"},[(0,i.Lk)("li",null,"한국 대표 기업"),(0,i.Lk)("li",null,"낮은 환율 리스크"),(0,i.Lk)("li",null,"실시간 거래")],-1)]),2),(0,i.Lk)("div",{class:(0,l.C4)(["market-option",{active:"overseas"===n.selectedMarket}]),onClick:s[1]||(s[1]=e=>n.selectedMarket="overseas")},s[18]||(s[18]=[(0,i.Lk)("div",{class:"option-icon"},"🇺🇸",-1),(0,i.Lk)("h4",null,"해외 주식",-1),(0,i.Lk)("p",null,"NYSE, NASDAQ",-1),(0,i.Lk)("ul",{class:"option-features"},[(0,i.Lk)("li",null,"글로벌 대표 기업"),(0,i.Lk)("li",null,"높은 성장 잠재력"),(0,i.Lk)("li",null,"다양한 섹터")],-1)]),2)])]),(0,i.Lk)("div",As,[s[22]||(s[22]=(0,i.Lk)("div",{class:"step-header"},[(0,i.Lk)("span",{class:"step-number"},"2"),(0,i.Lk)("h3",null,"매매 전략 선택")],-1)),(0,i.Lk)("div",Es,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.availableStrategies,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,l.C4)(["strategy-option",{active:n.selectedStrategy===e.id}]),onClick:s=>n.selectedStrategy=e.id},[(0,i.Lk)("div",Rs,[(0,i.Lk)("div",Ts,(0,l.v_)(e.icon),1),(0,i.Lk)("h4",null,(0,l.v_)(e.name),1),(0,i.Lk)("span",{class:(0,l.C4)(["risk-badge",e.riskClass])},(0,l.v_)(e.riskLevel),3)]),(0,i.Lk)("p",Xs,(0,l.v_)(e.description),1),(0,i.Lk)("div",Os,[(0,i.Lk)("div",$s,[s[20]||(s[20]=(0,i.Lk)("span",{class:"feature-label"},"수익률:",-1)),(0,i.Lk)("span",Ms,(0,l.v_)(e.expectedReturn),1)]),(0,i.Lk)("div",Ks,[s[21]||(s[21]=(0,i.Lk)("span",{class:"feature-label"},"매매 빈도:",-1)),(0,i.Lk)("span",Ps,(0,l.v_)(e.tradingFrequency),1)])])],10,Is))),128))])]),(0,i.Lk)("div",Us,[(0,i.Lk)("div",xs,[s[23]||(s[23]=(0,i.Lk)("span",{class:"step-number"},"3",-1)),s[24]||(s[24]=(0,i.Lk)("h3",null,"AI 추천 종목",-1)),(0,i.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>r.loadRecommendations&&r.loadRecommendations(...e)),disabled:n.isLoadingRecommendations,class:"btn btn-sm btn-outline"},[n.isLoadingRecommendations?((0,i.uX)(),(0,i.CE)("span",Ds)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(n.isLoadingRecommendations?"분석 중...":"새로 분석"),1)],8,Fs)]),n.isLoadingRecommendations?((0,i.uX)(),(0,i.CE)("div",Ws,s[25]||(s[25]=[(0,i.Lk)("div",{class:"loading-spinner-large"},null,-1),(0,i.Lk)("p",null,"AI가 최적의 종목을 분석하고 있습니다...",-1)]))):n.recommendations.length>0?((0,i.uX)(),(0,i.CE)("div",Ns,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.recommendations,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.symbol,class:(0,l.C4)(["stock-recommendation",{selected:n.selectedStocks.some(s=>s.symbol===e.symbol)}]),onClick:s=>r.toggleStockSelection(e)},[(0,i.Lk)("div",qs,[(0,i.Lk)("div",js,[(0,i.Lk)("h4",null,(0,l.v_)(e.name),1),(0,i.Lk)("span",Bs,(0,l.v_)(e.symbol),1),(0,i.Lk)("span",Qs,(0,l.v_)(e.sector),1)]),(0,i.Lk)("div",zs,[(0,i.Lk)("span",Gs,(0,l.v_)(r.formatCurrency(e.currentPrice,"overseas"===n.selectedMarket?"USD":"KRW")),1),(0,i.Lk)("span",{class:(0,l.C4)(["price-change",{positive:e.changeRate>0,negative:e.changeRate<0}])},(0,l.v_)(e.changeRate>0?"+":"")+(0,l.v_)(e.changeRate?.toFixed(2))+"% ",3)])]),(0,i.Lk)("p",Vs,(0,l.v_)(e.reason),1),(0,i.Lk)("div",Ys,[(0,i.Lk)("div",Js,[s[26]||(s[26]=(0,i.Lk)("span",{class:"metric-label"},"목표가:",-1)),(0,i.Lk)("span",Zs,(0,l.v_)(r.formatCurrency(e.targetPrice,"overseas"===n.selectedMarket?"USD":"KRW")),1)]),(0,i.Lk)("div",et,[s[27]||(s[27]=(0,i.Lk)("span",{class:"metric-label"},"위험도:",-1)),(0,i.Lk)("span",{class:(0,l.C4)(["metric-value risk-level",r.getRiskClass(e.riskLevel)])},(0,l.v_)(e.riskLevel),3)]),(0,i.Lk)("div",st,[s[28]||(s[28]=(0,i.Lk)("span",{class:"metric-label"},"투자기간:",-1)),(0,i.Lk)("span",tt,(0,l.v_)(e.timeHorizon),1)])]),(0,i.Lk)("div",at,[n.selectedStocks.some(s=>s.symbol===e.symbol)?((0,i.uX)(),(0,i.CE)("span",it," ✓ 선택됨 ")):(0,i.Q3)("",!0)])],10,Hs))),128))])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",ot,[s[31]||(s[31]=(0,i.Lk)("div",{class:"step-header"},[(0,i.Lk)("span",{class:"step-number"},"4"),(0,i.Lk)("h3",null,"투자 금액 설정")],-1)),(0,i.Lk)("div",nt,[(0,i.Lk)("div",rt,[s[29]||(s[29]=(0,i.Lk)("label",{class:"input-label"},"총 투자 금액",-1)),(0,i.Lk)("div",lt,[(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=e=>n.investmentAmount=e),max:n.accountInfo.availableCash,min:"10000",step:"10000",class:"amount-input",placeholder:"투자할 금액을 입력하세요"},null,8,ct),[[a.Jo,n.investmentAmount,void 0,{number:!0}]]),(0,i.Lk)("span",dt,(0,l.v_)("overseas"===n.selectedMarket?"USD":"원"),1)]),(0,i.Lk)("div",ut,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)([.1,.25,.5,.75],e=>(0,i.Lk)("button",{key:e,onClick:s=>r.setInvestmentRatio(e),class:"ratio-btn"},(0,l.v_)(100*e)+"% ",9,ht)),64))]),(0,i.Lk)("p",kt," 투자 가능: "+(0,l.v_)(r.formatCurrency(n.accountInfo.availableCash)),1)]),(0,i.Lk)("div",vt,[s[30]||(s[30]=(0,i.Lk)("label",{class:"input-label"},"위험 수준",-1)),(0,i.Lk)("div",mt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.riskLevels,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,l.C4)(["risk-option",{active:n.selectedRiskLevel===e.id}]),onClick:s=>n.selectedRiskLevel=e.id},[(0,i.Lk)("div",pt,(0,l.v_)(e.icon),1),(0,i.Lk)("div",Lt,[(0,i.Lk)("h5",null,(0,l.v_)(e.name),1),(0,i.Lk)("p",null,(0,l.v_)(e.description),1)])],10,gt))),128))])])])]),(0,i.Lk)("div",ft,[(0,i.Lk)("div",yt,[s[36]||(s[36]=(0,i.Lk)("h3",null,"설정 요약",-1)),(0,i.Lk)("div",bt,[(0,i.Lk)("div",Ct,[s[32]||(s[32]=(0,i.Lk)("span",{class:"label"},"시장:",-1)),(0,i.Lk)("span",wt,(0,l.v_)("domestic"===n.selectedMarket?"국내 주식":"해외 주식"),1)]),(0,i.Lk)("div",St,[s[33]||(s[33]=(0,i.Lk)("span",{class:"label"},"전략:",-1)),(0,i.Lk)("span",_t,(0,l.v_)(r.getSelectedStrategyName()),1)]),(0,i.Lk)("div",At,[s[34]||(s[34]=(0,i.Lk)("span",{class:"label"},"선택 종목:",-1)),(0,i.Lk)("span",Et,(0,l.v_)(n.selectedStocks.length)+"개",1)]),(0,i.Lk)("div",It,[s[35]||(s[35]=(0,i.Lk)("span",{class:"label"},"투자 금액:",-1)),(0,i.Lk)("span",Rt,(0,l.v_)(r.formatCurrency(n.investmentAmount)),1)])])]),(0,i.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>r.startAutoTrading&&r.startAutoTrading(...e)),disabled:!r.canStartTrading||n.isStartingTrading,class:"btn btn-primary btn-lg start-trading-btn"},[n.isStartingTrading?((0,i.uX)(),(0,i.CE)("span",Xt)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,l.v_)(n.isStartingTrading?"시작하는 중...":"자동매매 시작"),1)],8,Tt),s[37]||(s[37]=(0,i.Lk)("p",{class:"start-warning"}," ⚠️ 실제 계좌로 거래가 실행됩니다. 신중하게 검토 후 시작하세요. ",-1))])])])])])),n.activeSessions.length>0?((0,i.uX)(),(0,i.CE)("div",Ot,[(0,i.Lk)("div",$t,[s[39]||(s[39]=(0,i.Lk)("h2",null,"실행 중인 자동매매",-1)),(0,i.Lk)("span",Mt,(0,l.v_)(n.activeSessions.length)+"개 실행 중",1)]),(0,i.Lk)("div",Kt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.activeSessions,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.sessionId,class:"session-card"},[(0,i.Lk)("div",Pt,[(0,i.Lk)("div",Ut,[(0,i.Lk)("h3",null,(0,l.v_)(r.getSessionTitle(e)),1),(0,i.Lk)("div",xt,[(0,i.Lk)("span",{class:(0,l.C4)(["session-status",e.status.toLowerCase()])},(0,l.v_)(r.getStatusText(e.status)),3),(0,i.Lk)("span",Ft,(0,l.v_)(r.getSessionDuration(e.startTime)),1)])]),(0,i.Lk)("button",{onClick:s=>r.stopSession(e.sessionId),class:"btn btn-sm btn-danger",disabled:"ACTIVE"!==e.status}," 중지 ",8,Dt)]),(0,i.Lk)("div",Wt,[(0,i.Lk)("div",Nt,[s[40]||(s[40]=(0,i.Lk)("span",{class:"stat-label"},"투자금액:",-1)),(0,i.Lk)("span",Ht,(0,l.v_)(r.formatCurrency(e.investmentAmount)),1)]),(0,i.Lk)("div",qt,[s[41]||(s[41]=(0,i.Lk)("span",{class:"stat-label"},"종목수:",-1)),(0,i.Lk)("span",jt,(0,l.v_)(e.stockCount)+"개",1)]),(0,i.Lk)("div",Bt,[s[42]||(s[42]=(0,i.Lk)("span",{class:"stat-label"},"실행횟수:",-1)),(0,i.Lk)("span",Qt,(0,l.v_)(e.orderCount)+"회",1)]),(0,i.Lk)("div",zt,[s[43]||(s[43]=(0,i.Lk)("span",{class:"stat-label"},"수익:",-1)),(0,i.Lk)("span",{class:(0,l.C4)(["stat-value",e.totalProfit>=0?"positive":"negative"])},(0,l.v_)(r.formatCurrency(e.totalProfit)),3)])])]))),128))])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Gt,[(0,i.Lk)("div",Vt,[s[44]||(s[44]=(0,i.Lk)("h2",null,"최근 거래 내역",-1)),(0,i.Lk)("button",{onClick:s[5]||(s[5]=(...e)=>r.loadTradingHistory&&r.loadTradingHistory(...e)),class:"btn btn-sm btn-outline"}," 새로고침 ")]),0===n.tradingHistory.length?((0,i.uX)(),(0,i.CE)("div",Yt,s[45]||(s[45]=[(0,i.Lk)("div",{class:"empty-icon"},"📊",-1),(0,i.Lk)("h3",null,"거래 내역이 없습니다",-1),(0,i.Lk)("p",null,"자동매매를 시작하면 거래 내역이 여기에 표시됩니다",-1)]))):((0,i.uX)(),(0,i.CE)("div",Jt,[s[46]||(s[46]=(0,i.Fv)('<div class="table-header" data-v-26fe6988><div class="th" data-v-26fe6988>시간</div><div class="th" data-v-26fe6988>종목</div><div class="th" data-v-26fe6988>구분</div><div class="th" data-v-26fe6988>수량</div><div class="th" data-v-26fe6988>가격</div><div class="th" data-v-26fe6988>수익</div></div>',1)),(0,i.Lk)("div",Zt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.tradingHistory.slice(0,10),e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"table-row"},[(0,i.Lk)("div",ea,(0,l.v_)(r.formatDateTime(e.executed_at)),1),(0,i.Lk)("div",sa,[(0,i.Lk)("div",ta,[(0,i.Lk)("span",aa,(0,l.v_)(e.stock_code),1)])]),(0,i.Lk)("div",ia,[(0,i.Lk)("span",{class:(0,l.C4)(["trade-type",e.trade_type.toLowerCase()])},(0,l.v_)("BUY"===e.trade_type?"매수":"매도"),3)]),(0,i.Lk)("div",oa,(0,l.v_)(e.quantity?.toLocaleString()),1),(0,i.Lk)("div",na,(0,l.v_)(r.formatCurrency(e.price)),1),(0,i.Lk)("div",ra,[e.profit_loss?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,l.C4)(["profit-amount",e.profit_loss>=0?"positive":"negative"])},(0,l.v_)(r.formatCurrency(e.profit_loss)),3)):((0,i.uX)(),(0,i.CE)("span",la,"-"))])]))),128))])]))])])])}t(2489),t(116),t(8237);var da={name:"TradingPage",data(){return{accountInfo:{totalAssets:0,availableCash:0,stockValue:0,profitLoss:0,profitClass:"",profitText:""},selectedMarket:"domestic",selectedStrategy:"comprehensive",selectedStocks:[],selectedRiskLevel:"balanced",investmentAmount:0,recommendations:[],isLoadingRecommendations:!1,activeSessions:[],isStartingTrading:!1,tradingHistory:[],todayProfit:0,availableStrategies:[{id:"comprehensive",name:"종합 분석",icon:"🎯",description:"이동평균선, RSI, 볼린저밴드를 종합 분석하여 최적의 매매 타이밍을 포착합니다.",expectedReturn:"연 8-12%",tradingFrequency:"주 2-3회",riskLevel:"보통",riskClass:"medium"},{id:"movingAverage",name:"이동평균선 전략",icon:"📈",description:"단기/장기 이동평균선의 골든크로스와 데드크로스를 활용한 안정적인 매매 전략입니다.",expectedReturn:"연 6-10%",tradingFrequency:"주 1-2회",riskLevel:"낮음",riskClass:"low"},{id:"rsi",name:"RSI 모멘텀",icon:"⚡",description:"RSI 지표를 활용해 과매수/과매도 구간에서 빠른 매매로 높은 수익을 추구합니다.",expectedReturn:"연 10-15%",tradingFrequency:"주 3-5회",riskLevel:"높음",riskClass:"high"}],riskLevels:[{id:"conservative",name:"안전형",icon:"🛡️",description:"안정성을 최우선으로 하는 보수적 투자"},{id:"balanced",name:"균형형",icon:"⚖️",description:"수익과 안정성의 적절한 균형"},{id:"aggressive",name:"적극형",icon:"🚀",description:"높은 수익을 위한 공격적 투자"}]}},computed:{...(0,w.L8)("auth",["isAuthenticated"]),isAnySessionActive(){return this.activeSessions.some(e=>"ACTIVE"===e.status)},canStartTrading(){return this.selectedStocks.length>0&&this.investmentAmount>0&&this.investmentAmount<=this.accountInfo.availableCash},todayProfitClass(){return this.todayProfit>=0?"positive":"negative"}},async mounted(){this.isAuthenticated?await this.initializePage():this.$router.push("/login")},methods:{...(0,w.i0)(["setLoading"]),async initializePage(){this.setLoading(!0);try{await Promise.all([this.loadAccountInfo(),this.loadActiveSessions(),this.loadTradingHistory(),this.loadRecommendations()])}catch(e){console.error("❌ 페이지 초기화 실패:",e),this.$toast.error("페이지 로딩 중 오류가 발생했습니다.")}finally{this.setLoading(!1)}},async loadAccountInfo(){try{const e=await this.$api.get("/trading/account");if(e.data.success){const s=e.data.data;this.accountInfo={totalAssets:(s.domestic?.totalAssets||0)+(s.overseas?.totalAssets||0),availableCash:s.domestic?.availableCash||0,stockValue:s.domestic?.stockValue||0,profitLoss:s.domestic?.profitLoss||0},this.accountInfo.profitLoss>=0?(this.accountInfo.profitClass="positive",this.accountInfo.profitText=`+${this.formatCurrency(this.accountInfo.profitLoss)}`):(this.accountInfo.profitClass="negative",this.accountInfo.profitText=this.formatCurrency(this.accountInfo.profitLoss))}}catch(e){console.error("❌ 계좌 정보 로딩 실패:",e),this.$toast.error("계좌 정보를 불러올 수 없습니다.")}},async loadRecommendations(){this.isLoadingRecommendations=!0;try{const e=await this.$api.get("/trading/recommendations",{params:{marketType:this.selectedMarket,investmentStyle:this.selectedRiskLevel}});e.data.success&&(this.recommendations=e.data.data.recommendations)}catch(e){console.error("❌ AI 추천 로딩 실패:",e),this.$toast.error("AI 추천 종목을 불러올 수 없습니다.")}finally{this.isLoadingRecommendations=!1}},async loadActiveSessions(){try{const e=await this.$api.get("/trading/status");e.data.success&&(this.activeSessions=e.data.data.activeSessions)}catch(e){console.error("❌ 활성 세션 로딩 실패:",e)}},async loadTradingHistory(){try{const e=await this.$api.get("/trading/history");if(e.data.success){this.tradingHistory=e.data.data.trades;const s=(new Date).toISOString().slice(0,10);this.todayProfit=this.tradingHistory.filter(e=>e.executed_at.slice(0,10)===s).reduce((e,s)=>e+(s.profit_loss||0),0)}}catch(e){console.error("❌ 거래 내역 로딩 실패:",e)}},toggleStockSelection(e){const s=this.selectedStocks.findIndex(s=>s.symbol===e.symbol);s>=0?this.selectedStocks.splice(s,1):this.selectedStocks.length<5?this.selectedStocks.push(e):this.$toast.warning("최대 5개 종목까지 선택할 수 있습니다.")},setInvestmentRatio(e){this.investmentAmount=Math.floor(this.accountInfo.availableCash*e)},async startAutoTrading(){if(this.canStartTrading){this.isStartingTrading=!0;try{const e=await this.$api.post("/trading/start",{stocks:this.selectedStocks,strategy:this.selectedStrategy,marketType:this.selectedMarket,investmentAmount:this.investmentAmount,riskLevel:this.selectedRiskLevel});if(!e.data.success)throw new Error(e.data.message);this.$toast.success("자동매매가 시작되었습니다!"),await this.loadActiveSessions(),this.selectedStocks=[],this.investmentAmount=0}catch(e){console.error("❌ 자동매매 시작 실패:",e),this.$toast.error(e.response?.data?.message||"자동매매 시작에 실패했습니다.")}finally{this.isStartingTrading=!1}}else this.$toast.error("모든 설정을 완료해주세요.")},async stopSession(e){if(confirm("정말로 자동매매를 중지하시겠습니까?"))try{const s=await this.$api.post(`/trading/stop/${e}`);s.data.success&&(this.$toast.success("자동매매가 중지되었습니다."),await this.loadActiveSessions(),await this.loadTradingHistory())}catch(s){console.error("❌ 자동매매 중지 실패:",s),this.$toast.error("자동매매 중지에 실패했습니다.")}},formatCurrency(e,s="KRW"){return void 0===e||null===e?"0원":"USD"===s?`$${Math.abs(e).toLocaleString("en-US",{maximumFractionDigits:2})}`:`${Math.abs(e).toLocaleString()}원`},formatDateTime(e){const s=new Date(e);return s.toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},getSelectedStrategyName(){const e=this.availableStrategies.find(e=>e.id===this.selectedStrategy);return e?.name||"선택된 전략 없음"},getSessionTitle(e){const s="domestic"===e.marketType?"국내":"해외",t=this.getStrategyNameById(e.strategy);return`${s} ${t}`},getStrategyNameById(e){const s=this.availableStrategies.find(s=>s.id===e);return s?.name||"알 수 없음"},getStatusText(e){const s={ACTIVE:"실행중",STOPPED:"중지됨",ERROR:"오류"};return s[e]||e},getSessionDuration(e){const s=new Date(e),t=new Date,a=t-s,i=Math.floor(a/36e5),o=Math.floor(a%36e5/6e4);return i>0?`${i}시간 ${o}분`:`${o}분`},getRiskClass(e){const s={"낮음":"low","보통":"medium","높음":"high"};return s[e]||"medium"}},watch:{selectedMarket(){this.selectedStocks=[],this.loadRecommendations()},selectedRiskLevel(){this.loadRecommendations()}}};const ua=(0,_.A)(da,[["render",ca],["__scopeId","data-v-26fe6988"]]);var ha=ua;const ka={class:"not-found"},va={class:"container"},ma={class:"not-found-content"},ga={class:"error-actions"},pa={class:"helpful-links"},La={class:"links-list"},fa={key:0};function ya(e,s,t,a,o,n){const r=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",ka,[(0,i.Lk)("div",va,[(0,i.Lk)("div",ma,[s[6]||(s[6]=(0,i.Lk)("div",{class:"error-code"},"404",-1)),s[7]||(s[7]=(0,i.Lk)("h1",{class:"error-title"},"페이지를 찾을 수 없습니다",-1)),s[8]||(s[8]=(0,i.Lk)("p",{class:"error-message"}," 요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다. ",-1)),(0,i.Lk)("div",ga,[(0,i.bF)(r,{to:"/",class:"btn btn-primary"},{default:(0,i.k6)(()=>s[1]||(s[1]=[(0,i.eW)(" 홈으로 돌아가기 ",-1)])),_:1,__:[1]}),(0,i.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>n.goBack&&n.goBack(...e)),class:"btn btn-outline"}," 이전 페이지 ")]),(0,i.Lk)("div",pa,[s[5]||(s[5]=(0,i.Lk)("h3",null,"도움이 될 만한 링크",-1)),(0,i.Lk)("ul",La,[(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/"},{default:(0,i.k6)(()=>s[2]||(s[2]=[(0,i.eW)("홈페이지",-1)])),_:1,__:[2]})]),(0,i.Lk)("li",null,[(0,i.bF)(r,{to:"/login"},{default:(0,i.k6)(()=>s[3]||(s[3]=[(0,i.eW)("로그인",-1)])),_:1,__:[3]})]),e.isAuthenticated?((0,i.uX)(),(0,i.CE)("li",fa,[(0,i.bF)(r,{to:"/trading"},{default:(0,i.k6)(()=>s[4]||(s[4]=[(0,i.eW)("자동매매",-1)])),_:1,__:[4]})])):(0,i.Q3)("",!0)])])])])])}var ba={name:"NotFound",computed:{...(0,w.L8)("auth",["isAuthenticated"])},methods:{goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}};const Ca=(0,_.A)(ba,[["render",ya],["__scopeId","data-v-bb989544"]]);var wa=Ca;const Sa=[{path:"/",name:"Home",component:Ue,meta:{title:"홈 - 주식 자동매매 사이트",requiresAuth:!1}},{path:"/login",name:"Login",component:ze,meta:{title:"로그인 - 주식 자동매매 사이트",requiresAuth:!1}},{path:"/trading",name:"Trading",component:ha,meta:{title:"AI 자동매매 - 주식 자동매매 사이트",requiresAuth:!0}},{path:"/auth/callback",name:"AuthCallback",component:is,meta:{title:"로그인 처리 중...",requiresAuth:!1}},{path:"/404",name:"NotFound",component:wa,meta:{title:"페이지를 찾을 수 없습니다",requiresAuth:!1}},{path:"/:pathMatch(.*)*",redirect:"/404"}],_a=(0,X.aE)({history:(0,X.LA)("/TradeSiteFront/"),routes:Sa});_a.beforeEach((e,s,t)=>{if(console.log("🔄 라우터 이동:",s.path,"→",e.path),document.title=e.meta.title||"주식 자동매매 사이트",e.meta.requiresAuth){const s=Q.getters["auth/isAuthenticated"];if(!s)return console.log("🔒 인증 필요 - 로그인 페이지로 이동"),void t({name:"Login",query:{redirect:e.fullPath}})}if("Login"===e.name&&Q.getters["auth/isAuthenticated"])return console.log("✅ 이미 로그인됨 - 홈으로 이동"),void t({name:"Home"});t()});var Aa=_a;t(7917);const Ea=(0,a.Ef)(T);Ea.config.globalProperties.$api=K,Ea.use(Q),Ea.use(Aa),Ea.use(P.Ay,{position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),Ea.mount("#app")}},s={};function t(a){var i=s[a];if(void 0!==i)return i.exports;var o=s[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,a,i,o){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],o=e[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||n>=o)&&Object.keys(t.O).every(function(e){return t.O[e](a[l])})?a.splice(l--,1):(r=!1,o<n&&(n=o));if(r){e.splice(d--,1);var c=i();void 0!==c&&(s=c)}}return s}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,i,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var i,o,n=a[0],r=a[1],l=a[2],c=0;if(n.some(function(s){return 0!==e[s]})){for(i in r)t.o(r,i)&&(t.m[i]=r[i]);if(l)var d=l(t)}for(s&&s(a);c<n.length;c++)o=n[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunktrade_frontend"]=self["webpackChunktrade_frontend"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],function(){return t(2165)});a=t.O(a)})();
//# sourceMappingURL=app.7dab79a1.js.map