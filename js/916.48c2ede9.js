"use strict";(self["webpackChunktrade_frontend"]=self["webpackChunktrade_frontend"]||[]).push([[916],{3916:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var o=a(6768),s=a(4232);const n={class:"auth-callback"},l={class:"callback-container"},r={class:"callback-content"},c={class:"callback-message"};function i(e,t,a,i,u,h){return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",l,[(0,o.Lk)("div",r,[t[0]||(t[0]=(0,o.Lk)("div",{class:"loading-spinner-large"},null,-1)),t[1]||(t[1]=(0,o.Lk)("h2",{class:"callback-title"},"ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘...",-1)),(0,o.Lk)("p",c,(0,s.v_)(u.message),1)])])])}var u=a(782),h={name:"AuthCallback",data(){return{message:"ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”."}},async mounted(){await this.handleAuthCallback()},methods:{...(0,u.i0)("auth",["loginWithToken"]),async handleAuthCallback(){try{console.log("ðŸ”„ OAuth ì½œë°± ì²˜ë¦¬ ì‹œìž‘"),console.log("ðŸ“ í˜„ìž¬ URL:",window.location.href),console.log("ðŸ” ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°:",this.$route.query);const e=this.$route.query.token,t=this.$route.query.provider,a=this.$route.query.name;if(!e)throw new Error("í† í°ì´ ì—†ìŠµë‹ˆë‹¤.");console.log("ðŸŽ« ë°›ì€ í† í°:",e.substring(0,30)+"..."),console.log("ðŸ” OAuth ì œê³µìž:",t),console.log("ðŸ‘¤ ì‚¬ìš©ìž ì´ë¦„:",decodeURIComponent(a||"")),this.message="í† í°ì„ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤...";const o=await this.loginWithToken(e);if(!o)throw new Error("ë¡œê·¸ì¸ ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");console.log("âœ… ë¡œê·¸ì¸ ì„±ê³µ! í™ˆìœ¼ë¡œ ì´ë™"),this.message="ë¡œê·¸ì¸ ì™„ë£Œ! í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤...",setTimeout(()=>{this.$router.replace("/")},1e3)}catch(e){console.error("âŒ Auth callback ì˜¤ë¥˜:",e),this.message="ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",setTimeout(()=>{this.$router.replace({name:"Login",query:{error:"auth_failed"}})},3e3)}}}},d=a(1241);const k=(0,d.A)(h,[["render",i],["__scopeId","data-v-63d59ba3"]]);var g=k}}]);
//# sourceMappingURL=916.48c2ede9.js.map